import{_ as e,e as a}from"./app.2f53866d.js";var o="/study/assets/image-20231222170905915.cf69f1f0.png";const n={},r=a('<h1 id="docker\u7B14\u8BB0" tabindex="-1"><a class="header-anchor" href="#docker\u7B14\u8BB0" aria-hidden="true">#</a> docker\u7B14\u8BB0</h1><h2 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h2><p>docker\u662F\u4E00\u79CD\u5C5E\u4E8E\u64CD\u4F5C\u7CFB\u7EDF\u5C42\u9762\u7684\u865A\u62DF\u5316\u6280\u672F\uFF0C\u53EF\u7406\u89E3\u4E3A\u8F6F\u4EF6\u5C42\u9762\uFF0C\u4E0D\u9700\u8981\u786C\u4EF6\u865A\u62DF\uFF0C\u7531\u4E8E\u9694\u79BB\u7684\u8FDB\u7A0B\u72EC\u7ACB\u4E8E\u5BBF\u4E3B\u548C\u5176\u4ED6\u9694\u79BB\u7684\u8FDB\u7A0B\uFF0C\u56E0\u6B64\u4E5F\u79F0\u4E3A\u5BB9\u5668\u3002</p><p>\u5BB9\u5668\u662F\u4E00\u79CD\u901A\u7528\u6280\u672F\uFF0Cdocker\u662F\u4E00\u79CD\u5B9E\u73B0\u3002</p><p>\u4E24\u4E2A\u6838\u5FC3\u6280\u672F\uFF1A</p><ul><li>\u57FA\u4E8E\u64CD\u4F5C\u7CFB\u7EDFcgroup\u548Cnamespace\u521B\u5EFA\u51FA\u7684\u4E92\u76F8\u9694\u79BB\u7684\u6C99\u76D2\uFF0C\u7A0B\u5E8F\uFF08\u5305\u62EC\u7F16\u8BD1\u597D\u7684\u53EF\u6267\u884C\u7A0B\u5E8F\u3001\u542F\u52A8\u811A\u672C\u3001\u914D\u7F6E\u7B49\u653E\u5728\u8FD9\u91CC\u9762\uFF09\uFF0C\u6BCF\u4E2A\u8FDB\u7A0B\u90FD\u653E\u5728\u5404\u81EA\u7684\u6C99\u76D2\u4E2D\uFF0C\u4E92\u76F8\u9694\u79BB\uFF0C\u8FD9\u4E9B\u6C99\u76D2\u53EF\u7406\u89E3\u4E3A\u5BB9\u5668\u3002</li><li>docker\u7684\u955C\u50CF\u6280\u672F\u3002</li></ul><p>docker\u662F\u4E00\u4E2A\u7528Go\u8BED\u8A00\u5B9E\u73B0\u7684\u5F00\u6E90\u9879\u76EE\uFF0C\u53EF\u4EE5\u8BA9\u6211\u4EEC\u65B9\u4FBF\u5730\u521B\u5EFA\u548C\u4F7F\u7528\u5BB9\u5668\u3002</p><p>docker\u5C06\u7A0B\u5E8F\u4EE5\u53CA\u7A0B\u5E8F\u8FD0\u884C\u6240\u9700\u8981\u7684\u4F9D\u8D56\uFF0C\u4E5F\u5C31\u662F\u8FD0\u884C\u65F6\u73AF\u5883\u90FD\u6253\u5305\u5230docker container\u3002\u4E0D\u540C\u7684\u5BB9\u5668\u90FD\u4F7F\u7528\u540C\u4E00\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u4E0D\u7528\u50CF\u865A\u62DF\u673A\u4E00\u6837\u4ECE\u64CD\u4F5C\u7CFB\u7EDF\u5C42\u9762\u8FDB\u884C\u865A\u62DF\u5316\uFF0C\u8FD9\u6837\u4EE3\u4EF7\u5927\uFF0C\u6D88\u8017\u8D44\u6E90\u591A\uFF0C\u542F\u52A8\u6162\uFF0C\u800C\u5BB9\u5668\u5728\u540C\u4E00\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u57FA\u7840\u4E4B\u4E0A\uFF0C\u901A\u8FC7\u6253\u5305\u4E0D\u540C\u7684\u8FD0\u884C\u65F6\u73AF\u5883\uFF0C\u8FD9\u6837\u4F7F\u7528\u7684\u8D44\u6E90\u5C31\u5C0F\u5F88\u591A\u3002</p><p>\u8FD9\u6837\u7A0B\u5E8F\u5728\u4EFB\u4F55\u73AF\u5883\u90FD\u4F1A\u6709\u4E00\u81F4\u7684\u8868\u73B0\uFF0C\u8FD9\u91CC\u7A0B\u5E8F\u8FD0\u884C\u65F6\u73AF\u5883\uFF08\u4F9D\u8D56\uFF09\u4E5F\u5C31\u662F\u5BB9\u5668\u5C31\u597D\u6BD4\u96C6\u88C5\u7BB1\uFF0C\u5BB9\u5668\u6240\u5904\u7684\u64CD\u4F5C\u7CFB\u7EDF\u73AF\u5883\u5C31\u597D\u6BD4\u8D27\u8239\u548C\u6E2F\u53E3\uFF0C\u4E0D\u540C\u7684\u5BB9\u5668\uFF08\u4E0D\u540C\u7684\u8FDB\u7A0B\uFF09\u4ED6\u4EEC\u662F\u4F7F\u7528\u7684\u540C\u4E00\u4E2A\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u7A0B\u5E8F\u7684\u8868\u73B0\u53EA\u548C\u96C6\u88C5\u7BB1\uFF0C\u4E5F\u5C31\u662F\u8FD0\u884C\u65F6\u73AF\u5883\u6709\u5173\u7CFB\u3002docker\u53EF\u4EE5\u5C4F\u853D\u73AF\u5883\u5DEE\u5F02\uFF0C\u53EA\u8981\u7A0B\u5E8F\u6253\u5305\u5230\u4E86docker\u4E2D\uFF0C\u90A3\u4E48\u65E0\u8BBA\u8FD0\u884C\u5728\u4EC0\u4E48\u73AF\u5883\u4E0B\u7A0B\u5E8F\u7684\u884C\u4E3A\u90FD\u662F\u4E00\u81F4\u7684\u3002</p><p>\u955C\u50CF\u662F\u9759\u6001\uFF0C\u5BB9\u5668\u662F\u52A8\u6001\uFF0C\u955C\u50CF\u53EF\u7406\u89E3\u4E3A\u53EF\u6267\u884C\u7A0B\u5E8F\uFF0C\u5BB9\u5668\u5C31\u662F\u8FD0\u884C\u8D77\u6765\u7684\u8FDB\u7A0B\u3002</p><p>docker\u7684\u53E6\u4E00\u4E2A\u597D\u5904\u662F\u5FEB\u901F\u90E8\u7F72\uFF0C\u4E00\u4E2A\u539F\u56E0\u5728\u4E8E\u5BB9\u5668\u542F\u52A8\u901F\u5EA6\u5FEB\uFF0C\u53E6\u4E00\u4E2A\u539F\u56E0\u5728\u4E8E\u53EA\u8981\u786E\u4FDD\u4E00\u4E2A\u5BB9\u5668\u4E2D\u7684\u7A0B\u5E8F\u6B63\u786E\u8FD0\u884C\uFF0C\u90A3\u4E48\u4F60\u5C31\u80FD\u786E\u4FE1\u65E0\u8BBA\u5728\u751F\u4EA7\u73AF\u5883\u90E8\u7F72\u591A\u5C11\u90FD\u80FD\u6B63\u786E\u8FD0\u884C\uFF0C\u53EA\u8981\u901A\u8FC7docker\u3002\u56E0\u4E3A\u901A\u8FC7dockerfile\u6784\u5EFA\u597D\u4E86\u955C\u50CF\uFF0C\u5C31\u76F8\u5F53\u4E8E\u6709\u4E86\u7A0B\u5E8F\u8FD0\u884C\u7684\u4E00\u4E2A\u5B8C\u6574\u7684\u8FD0\u884C\u65F6\u73AF\u5883\u3002</p><h3 id="\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF" aria-hidden="true">#</a> \u955C\u50CF</h3><p>\u64CD\u4F5C\u7CFB\u7EDF\u5206\u4E3A\u5185\u6838\u548C\u7528\u6237\u7A7A\u95F4\u3002\u5BF9\u4E8ELinux\u800C\u8A00\uFF0C\u5185\u6838\u542F\u52A8\u540E\uFF0C\u4F1A\u6302\u8F7D root \u6587\u4EF6\u7CFB\u7EDF\u4E3A\u5176\u63D0\u4F9B\u7528\u6237\u7A7A\u95F4\u652F\u6301\u3002\u800C Docker\u955C\u50CF\uFF08Image\uFF09\uFF0C\u5C31\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A root \u6587\u4EF6\u7CFB\u7EDF\u3002</p><p>Docker\u955C\u50CF\u662F\u4E00\u4E2A\u7279\u6B8A\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u9664\u4E86\u63D0\u4F9B\u5BB9\u5668\u8FD0\u884C\u65F6\u6240\u9700\u7684\u7A0B\u5E8F\u3001\u5E93\u3001\u8D44\u6E90\u3001\u914D\u7F6E\u7B49\u6587\u4EF6\u5916\uFF0C\u8FD8\u5305\u542B\u4E86\u4E00\u4E9B\u4E3A\u8FD0\u884C\u65F6\u51C6\u5907\u7684\u4E00\u4E9B\u914D\u7F6E\u53C2\u6570\uFF08\u5982\u533F\u540D\u5377\u3001\u73AF\u5883\u53D8\u91CF\u3001\u7528\u6237\u7B49\uFF09\u3002\u955C\u50CF\u4E0D\u5305\u542B\u4EFB\u4F55\u52A8\u6001\u6570\u636E\uFF0C\u5176\u5185\u5BB9\u5728\u6784\u5EFA\u4E4B\u540E\u4E5F\u4E0D\u4F1A\u88AB\u6539\u53D8\u3002</p><p>\u5199image\u9700\u8981dockerfile\uFF0Cdockerfile\u5C31\u662Fimage\u7684\u6E90\u4EE3\u7801\uFF0Cdocker\u5C31\u662F&quot;\u7F16\u8BD1\u5668&quot;\u3002</p><p>\u56E0\u6B64\u6211\u4EEC\u53EA\u9700\u8981\u5728dockerfile\u4E2D\u6307\u5B9A\u9700\u8981\u54EA\u4E9B\u7A0B\u5E8F\u3001\u4F9D\u8D56\u4EC0\u4E48\u6837\u7684\u914D\u7F6E\uFF0C\u4E4B\u540E\u628Adockerfile\u4EA4\u7ED9\u201C\u7F16\u8BD1\u5668\u201Ddocker\u8FDB\u884C\u201C\u7F16\u8BD1\u201D\uFF0C\u4E5F\u5C31\u662Fdocker build\u547D\u4EE4\uFF0C\u751F\u6210\u7684\u53EF\u6267\u884C\u7A0B\u5E8F\u5C31\u662Fimage\u3002\u5BB9\u5668\u662F\u57FA\u4E8E\u955C\u50CF\u7684\u3002\u955C\u50CF\u521B\u5EFA\u597D\u4E86\uFF0C\u4E5F\u5C31\u662F\u53EF\u6267\u884C\u7A0B\u5E8F\uFF08\u8DDF\u6E90\u7801build\u51FA\u7684\u4E8C\u8FDB\u5236\u53EF\u6267\u884C\u7A0B\u5E8F\u6982\u5FF5\u4E0D\u540C\uFF0Cgolang\u662F\u4E8C\u8FDB\u5236\uFF0CJava\u5219\u662Fjar\u5305\uFF09\u521B\u5EFA\u597D\u4E86\uFF0C\u4E4B\u540E\u5C31\u53EF\u4EE5\u8FD0\u884C\u8FD9\u4E2Aimage\u4E86\uFF0C\u8FD9\u5C31\u662Fdocker run\u547D\u4EE4\u3002</p><p>\u4E5F\u53EF\u4EE5\u628A\u955C\u50CF\u548C\u5BB9\u5668\u6BD4\u4F5C\u662F\u7C7B\u548C\u5B9E\u4F8B\u5BF9\u8C61\u7684\u5173\u7CFB\u3002</p><p>\u4E00\u5B9A\u4E0D\u8981\u628A\u955C\u50CF\u53EA\u662F\u7406\u89E3\u4E3A\u53EF\u6267\u884C\u7A0B\u5E8F\u3001\u9759\u6001\u6587\u4EF6\uFF0C\u5B83\u5305\u62EC\u4E86\u9759\u6001\u6587\u4EF6\u3001\u53EF\u6267\u884C\u7A0B\u5E8F\u3001\u914D\u7F6E\u8FD8\u6709\u5404\u79CD\u4F9D\u8D56\uFF0C\u57FA\u7840\u73AF\u5883\uFF0C\u662F\u4E00\u4E2A\u5B8C\u6574\u7684\u8FD0\u884C\u65F6\u73AF\u5883\uFF0C\u9759\u6001\u53EA\u662F\u76F8\u5BF9\u4E8E\u5BB9\u5668\u800C\u8A00\uFF0C\u662F\u9759\u6001\u7684\u5B9A\u4E49\uFF0C\u201C\u53EF\u6267\u884C\u7A0B\u5E8F\u201D\u7684\u7C7B\u6BD4\u4E5F\u53EA\u662F\u76F8\u5BF9\u4E8E\u5BB9\u5668\u800C\u8A00\u3002docker\u955C\u50CF\u662F\u521B\u5EFAdocker\u5BB9\u5668\u7684\u6A21\u677F\u3002\u5BB9\u5668\u662Fdocker\u955C\u50CF\u8FD0\u884C\u8D77\u6765\u7684\u5B9E\u4F53\u3002</p><p>image\u8FD0\u884C\u8D77\u6765\u4E4B\u540E\u5C31\u662Fdocker container\u3002</p><h3 id="\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668" aria-hidden="true">#</a> \u5BB9\u5668</h3><p>\u955C\u50CF\uFF08Image\uFF09\u548C\u5BB9\u5668\uFF08Container\uFF09\u7684\u5173\u7CFB\uFF0C\u5C31\u50CF\u662F\u9762\u5411\u5BF9\u8C61\u7A0B\u5E8F\u8BBE\u8BA1\u4E2D\u7684 \u7C7B \u548C \u5B9E\u4F8B \u4E00\u6837\uFF0C\u955C\u50CF\u662F\u9759\u6001\u7684\u5B9A\u4E49\uFF0C\u5BB9\u5668\u662F\u955C\u50CF\u8FD0\u884C\u65F6\u7684\u5B9E\u4F53\u3002\u5BB9\u5668\u53EF\u4EE5\u88AB\u521B\u5EFA\u3001\u542F\u52A8\u3001\u505C\u6B62\u3001\u5220\u9664\u3001\u6682\u505C\u7B49\u3002\u955C\u50CF\u867D\u662F\u9759\u6001\u7684\uFF0C\u4F46\u662F\u63D0\u4F9B\u4E86\u7A0B\u5E8F\u6240\u4F9D\u8D56\u7684\u5B8C\u6574\u7684\u8FD0\u884C\u65F6\u73AF\u5883\u3002</p><p>\u5BB9\u5668\u7684\u5B9E\u8D28\u662F\u8FDB\u7A0B\uFF0C\u4F46\u4E0E\u76F4\u63A5\u5728\u5BBF\u4E3B\u6267\u884C\u7684\u8FDB\u7A0B\u4E0D\u540C\uFF0C\u5BB9\u5668\u8FDB\u7A0B\u8FD0\u884C\u4E8E\u5C5E\u4E8E\u81EA\u5DF1\u7684\u72EC\u7ACB\u7684 \u547D\u540D\u7A7A\u95F4\u3002\u56E0\u6B64\u5BB9\u5668\u53EF\u4EE5\u62E5\u6709\u81EA\u5DF1\u7684 root \u6587\u4EF6\u7CFB\u7EDF\u3001\u81EA\u5DF1\u7684\u7F51\u7EDC\u914D\u7F6E\u3001\u81EA\u5DF1\u7684\u8FDB\u7A0B\u7A7A\u95F4\uFF0C\u751A\u81F3\u81EA\u5DF1\u7684\u7528\u6237 ID \u7A7A\u95F4\u3002\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B\u662F\u8FD0\u884C\u5728\u4E00\u4E2A\u9694\u79BB\u7684\u73AF\u5883\u91CC\uFF0C\u4F7F\u7528\u8D77\u6765\uFF0C\u5C31\u597D\u50CF\u662F\u5728\u4E00\u4E2A\u72EC\u7ACB\u4E8E\u5BBF\u4E3B\u7684\u7CFB\u7EDF\u4E0B\u64CD\u4F5C\u4E00\u6837\uFF0C\u8FD9\u5C31\u662F\u8FD0\u884C\u65F6\u73AF\u5883\uFF0C\u8FD9\u4E2A\u8FD0\u884C\u65F6\u73AF\u5883\u72EC\u7ACB\u4E8E\u5BBF\u4E3B\u7684\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u6240\u4EE5\u624D\u80FD\u5728\u5F00\u53D1\u3001\u6D4B\u8BD5\u3001\u9884\u53D1\u3001\u751F\u4EA7\u7B49\u73AF\u5883\u4E0A\u6709\u76F8\u540C\u7684\u8FD0\u884C\u7ED3\u679C\u3002</p><p>\u6BCF\u4E00\u4E2A\u5BB9\u5668\u8FD0\u884C\u65F6\uFF0C\u662F\u4EE5\u955C\u50CF\u4E3A\u57FA\u7840\u5C42\uFF0C\u5728\u5176\u4E0A\u521B\u5EFA\u4E00\u4E2A\u5F53\u524D\u5BB9\u5668\u7684\u5B58\u50A8\u5C42\uFF0C\u6211\u4EEC\u53EF\u4EE5\u79F0\u8FD9\u4E2A\u4E3A\u5BB9\u5668\u8FD0\u884C\u65F6\u8BFB\u5199\u800C\u51C6\u5907\u7684\u5B58\u50A8\u5C42\u4E3A \u5BB9\u5668\u5B58\u50A8\u5C42\u3002</p><p>\u5BB9\u5668\u5B58\u50A8\u5C42\u7684\u751F\u5B58\u5468\u671F\u548C\u5BB9\u5668\u4E00\u6837\uFF0C\u5BB9\u5668\u6D88\u4EA1\u65F6\uFF0C\u5BB9\u5668\u5B58\u50A8\u5C42\u4E5F\u968F\u4E4B\u6D88\u4EA1\u3002\u56E0\u6B64\uFF0C\u4EFB\u4F55\u4FDD\u5B58\u4E8E\u5BB9\u5668\u5B58\u50A8\u5C42\u7684\u4FE1\u606F\u90FD\u4F1A\u968F\u5BB9\u5668\u5220\u9664\u800C\u4E22\u5931\u3002</p><p>\u6309\u7167 Docker \u6700\u4F73\u5B9E\u8DF5\u7684\u8981\u6C42\uFF0C\u5BB9\u5668\u4E0D\u5E94\u8BE5\u5411\u5176\u5B58\u50A8\u5C42\u5185\u5199\u5165\u4EFB\u4F55\u6570\u636E\uFF0C\u5BB9\u5668\u5B58\u50A8\u5C42\u8981\u4FDD\u6301\u65E0\u72B6\u6001\u5316\u3002\u6240\u6709\u7684\u6587\u4EF6\u5199\u5165\u64CD\u4F5C\uFF0C\u90FD\u5E94\u8BE5\u4F7F\u7528\u6570\u636E\u5377\uFF08Volume\uFF09\u3001\u6216\u8005\u7ED1\u5B9A\u5BBF\u4E3B\u76EE\u5F55\uFF0C\u5728\u8FD9\u4E9B\u4F4D\u7F6E\u7684\u8BFB\u5199\u4F1A\u8DF3\u8FC7\u5BB9\u5668\u5B58\u50A8\u5C42\uFF0C\u76F4\u63A5\u5BF9\u5BBF\u4E3B\uFF08\u6216\u7F51\u7EDC\u5B58\u50A8\uFF09\u53D1\u751F\u8BFB\u5199\uFF0C\u5176\u6027\u80FD\u548C\u7A33\u5B9A\u6027\u66F4\u9AD8\u3002</p><p>\u6570\u636E\u5377\u7684\u751F\u5B58\u5468\u671F\u72EC\u7ACB\u4E8E\u5BB9\u5668\uFF0C\u5BB9\u5668\u6D88\u4EA1\uFF0C\u6570\u636E\u5377\u4E0D\u4F1A\u6D88\u4EA1\u3002\u56E0\u6B64\uFF0C\u4F7F\u7528\u6570\u636E\u5377\u540E\uFF0C\u5BB9\u5668\u5220\u9664\u6216\u8005\u91CD\u65B0\u8FD0\u884C\u4E4B\u540E\uFF0C\u6570\u636E\u5374\u4E0D\u4F1A\u4E22\u5931\u3002</p><h3 id="\u4ED3\u5E93" tabindex="-1"><a class="header-anchor" href="#\u4ED3\u5E93" aria-hidden="true">#</a> \u4ED3\u5E93</h3><p>\u4ED3\u5E93\u53EF\u770B\u6210\u4E00\u4E2A\u4EE3\u7801\u63A7\u5236\u4E2D\u5FC3\uFF0C\u7528\u6765\u4FDD\u5B58\u955C\u50CF\u3002</p><p><img src="'+o+`" alt="image-20231222170905915"></p><h3 id="docker\u7684\u5DE5\u4F5C\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#docker\u7684\u5DE5\u4F5C\u6D41\u7A0B" aria-hidden="true">#</a> docker\u7684\u5DE5\u4F5C\u6D41\u7A0B</h3><ol><li><p>docker build</p><p>\u5F53\u6211\u4EEC\u5199\u5B8Cdockerfile\u4EA4\u7ED9docker\u201C\u7F16\u8BD1\u201D\u65F6\u4F7F\u7528docker build\u8FD9\u4E2A\u547D\u4EE4\uFF0C\u90A3\u4E48client\u8F6C\u53D1\u8FD9\u4E2A\u547D\u4EE4\u7ED9docker daemon\uFF0C\u63A5\u7740docker daemon\u6839\u636Edockerfile\u521B\u5EFA\u51FA\u201C\u53EF\u6267\u884C\u7A0B\u5E8F\u201Dimage\u3002</p></li><li><p>docker run</p><p>\u6709\u4E86\u53EF\u6267\u884C\u7A0B\u5E8Fimage\u4E4B\u540E\u5C31\u53EF\u4EE5\u8FD0\u884C\u7A0B\u5E8F\u4E86\uFF0C\u63A5\u4E0B\u6765\u4F7F\u7528\u547D\u4EE4docker run\uFF0Cdocker daemon\u63A5\u6536\u5230\u8BE5\u547D\u4EE4\u4E4B\u540E\u627E\u5230\u5177\u4F53\u7684image\uFF0C\u7136\u540E\u52A0\u8F7D\u5230\u5185\u5B58\u5F00\u59CB\u8FD0\u884C\uFF0Cimage\u6267\u884C\u8D77\u6765\u4E86\u5C31\u662F\u6240\u8C13\u7684container\u3002\u6BCF\u4E00\u4E2A\u5BB9\u5668\u8FD0\u884C\u65F6\uFF0C\u662F\u4EE5\u955C\u50CF\u4E3A\u57FA\u7840\u5C42\uFF0C\u5728\u5176\u4E0A\u521B\u5EFA\u4E00\u4E2A\u5F53\u524D\u5BB9\u5668\u7684\u5B58\u50A8\u5C42\uFF0C\u6211\u4EEC\u53EF\u4EE5\u79F0\u8FD9\u4E2A\u4E3A\u5BB9\u5668\u8FD0\u884C\u65F6\u8BFB\u5199\u800C\u51C6\u5907\u7684\u5B58\u50A8\u5C42\u4E3A<strong>\u5BB9\u5668\u5B58\u50A8\u5C42</strong>\u3002</p></li><li><p>docker pull</p><p>\u5176\u5B9Edocker build\u548Cdocker run\u662F\u4E24\u4E2A\u6700\u6838\u5FC3\u7684\u547D\u4EE4\uFF0C\u4F1A\u7528\u8FD9\u4E24\u4E2A\u547D\u4EE4\u57FA\u672C\u4E0Adocker\u5C31\u53EF\u4EE5\u7528\u8D77\u6765\u4E86\uFF0C\u5269\u4E0B\u7684\u5C31\u662F\u4E00\u4E9B\u8865\u5145\u3002</p><p>docker\u4E2Dimage\u7684\u6982\u5FF5\u7C7B\u4F3C\u4E8E\u201C\u53EF\u6267\u884C\u7A0B\u5E8F\u201D\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4ECE\u54EA\u91CC\u4E0B\u8F7D\u5230\u522B\u4EBA\u5199\u597D\u7684\u5E94\u7528\u7A0B\u5E8F\u5462?\u5F88\u7B80\u5355\uFF0C\u90A3\u5C31\u662FAPP Store\uFF0C\u5373\u5E94\u7528\u5546\u5E97\u3002\u4E0E\u4E4B\u7C7B\u4F3C\uFF0C\u65E2\u7136image\u4E5F\u662F\u4E00\u79CD\u201C\u53EF\u6267\u884C\u7A0B\u5E8F\u201D\uFF0C\u90A3\u4E48\u6709\u6CA1\u6709&quot;Docker Image Store&quot;\u5462?\u7B54\u6848\u662F\u80AF\u5B9A\u7684\uFF0C\u8FD9\u5C31\u662FDocker Hub\uFF0Cdocker\u5B98\u65B9\u7684\u201C\u5E94\u7528\u5546\u5E97\u201D\uFF0C\u4F60\u53EF\u4EE5\u5728\u8FD9\u91CC\u4E0B\u8F7D\u5230\u522B\u4EBA\u7F16\u5199\u597D\u7684image\uFF0C\u8FD9\u6837\u4F60\u5C31\u4E0D\u7528\u81EA\u5DF1\u7F16\u5199dockerfile\u4E86\u3002</p></li></ol><h2 id="\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5docker" aria-hidden="true">#</a> \u5B89\u88C5docker</h2><h3 id="centos" tabindex="-1"><a class="header-anchor" href="#centos" aria-hidden="true">#</a> centos</h3><ol><li><p>\u5378\u8F7D\u65E7\u7248\u672C</p><div class="language-bash ext-sh"><pre class="language-bash"><code>$ <span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                  docker-client <span class="token punctuation">\\</span>
                  docker-client-latest <span class="token punctuation">\\</span>
                  docker-common <span class="token punctuation">\\</span>
                  docker-latest <span class="token punctuation">\\</span>
                  docker-latest-logrotate <span class="token punctuation">\\</span>
                  docker-logrotate <span class="token punctuation">\\</span>
                  docker-selinux <span class="token punctuation">\\</span>
                  docker-engine-selinux <span class="token punctuation">\\</span>
                  docker-engine
</code></pre></div></li><li><p>yum\u5B89\u88C5(https://yeasy.gitbook.io/docker_practice/install/centos)</p><p>\u5B89\u88C5\u4F9D\u8D56\u5305</p><div class="language-text ext-text"><pre class="language-text"><code>$ sudo yum install -y yum-utils
</code></pre></div><p>\u5982\u8981\u6DFB\u52A0\u56FD\u5185\u6E90</p><div class="language-text ext-text"><pre class="language-text"><code>$ sudo yum-config-manager \\
    --add-repo \\
    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

$ sudo sed -i &#39;s/download.docker.com/mirrors.aliyun.com\\/docker-ce/g&#39; /etc/yum.repos.d/docker-ce.repo

# \u5B98\u65B9\u6E90
# $ sudo yum-config-manager \\
#     --add-repo \\
#     https://download.docker.com/linux/centos/docker-ce.repo
</code></pre></div><p>\u5B89\u88C5docker</p><div class="language-text ext-text"><pre class="language-text"><code>$ sudo yum install docker-ce docker-ce-cli containerd.io
</code></pre></div><p>\u542F\u52A8docker</p><div class="language-text ext-text"><pre class="language-text"><code>$ sudo systemctl enable docker
$ sudo systemctl start docker
</code></pre></div><p>\u6D4B\u8BD5docker\u662F\u5426\u5B89\u88C5\u6B63\u786E</p><div class="language-text ext-text"><pre class="language-text"><code>$ docker run --rm hello-world

Unable to find image &#39;hello-world:latest&#39; locally
latest: Pulling from library/hello-world
b8dfde127a29: Pull complete
Digest: sha256:308866a43596e83578c7dfa15e27a73011bdd402185a84c5cd7f32a88b501a24
Status: Downloaded newer image for hello-world:latest

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre></div></li></ol><h2 id="\u4F7F\u7528\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u955C\u50CF" aria-hidden="true">#</a> \u4F7F\u7528\u955C\u50CF</h2><h3 id="\u83B7\u53D6\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u955C\u50CF" aria-hidden="true">#</a> \u83B7\u53D6\u955C\u50CF</h3><div class="language-text ext-text"><pre class="language-text"><code>$ docker pull [\u9009\u9879] [Docker Registry \u5730\u5740[:\u7AEF\u53E3\u53F7]/]\u4ED3\u5E93\u540D[:\u6807\u7B7E]
</code></pre></div><div class="language-text ext-text"><pre class="language-text"><code>$ docker pull ubuntu:18.04
18.04: Pulling from library/ubuntu
92dc2a97ff99: Pull complete
be13a9d27eb8: Pull complete
c8299583700a: Pull complete
Digest: sha256:4bc3ae6596938cb0d9e5ac51a1152ec9dcac2a1c50829c74abd9c4361e321b26
Status: Downloaded newer image for ubuntu:18.04
docker.io/library/ubuntu:18.04
</code></pre></div><h3 id="\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> \u542F\u52A8\u5BB9\u5668</h3><div class="language-text ext-text"><pre class="language-text"><code>$ docker run -it --rm ubuntu:18.04 bash

root@e7009c6ce357:/# cat /etc/os-release
NAME=&quot;Ubuntu&quot;
VERSION=&quot;18.04.1 LTS (Bionic Beaver)&quot;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&quot;Ubuntu 18.04.1 LTS&quot;
VERSION_ID=&quot;18.04&quot;
HOME_URL=&quot;https://www.ubuntu.com/&quot;
SUPPORT_URL=&quot;https://help.ubuntu.com/&quot;
BUG_REPORT_URL=&quot;https://bugs.launchpad.net/ubuntu/&quot;
PRIVACY_POLICY_URL=&quot;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&quot;
VERSION_CODENAME=bionic
UBUNTU_CODENAME=bionic
</code></pre></div><ul><li>-it\uFF1A\u8FD9\u662F\u4E24\u4E2A\u53C2\u6570\uFF0C\u4E00\u4E2A\u662F -i\uFF1A\u4EA4\u4E92\u5F0F\u64CD\u4F5C\uFF0C\u4E00\u4E2A\u662F -t \u7EC8\u7AEF\u3002\u6211\u4EEC\u8FD9\u91CC\u6253\u7B97\u8FDB\u5165 bash \u6267\u884C\u4E00\u4E9B\u547D\u4EE4\u5E76\u67E5\u770B\u8FD4\u56DE\u7ED3\u679C\uFF0C\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u4EA4\u4E92\u5F0F\u7EC8\u7AEF\u3002</li><li>--rm\uFF1A\u8FD9\u4E2A\u53C2\u6570\u662F\u8BF4\u5BB9\u5668\u9000\u51FA\u540E\u968F\u4E4B\u5C06\u5176\u5220\u9664\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4E3A\u4E86\u6392\u969C\u9700\u6C42\uFF0C\u9000\u51FA\u7684\u5BB9\u5668\u5E76\u4E0D\u4F1A\u7ACB\u5373\u5220\u9664\uFF0C\u9664\u975E\u624B\u52A8 docker rm\u3002\u6211\u4EEC\u8FD9\u91CC\u53EA\u662F\u968F\u4FBF\u6267\u884C\u4E2A\u547D\u4EE4\uFF0C\u770B\u770B\u7ED3\u679C\uFF0C\u4E0D\u9700\u8981\u6392\u969C\u548C\u4FDD\u7559\u7ED3\u679C\uFF0C\u56E0\u6B64\u4F7F\u7528 --rm \u53EF\u4EE5\u907F\u514D\u6D6A\u8D39\u7A7A\u95F4\u3002</li><li>ubuntu:18.04\uFF1A\u8FD9\u662F\u6307\u7528 ubuntu:18.04 \u955C\u50CF\u4E3A\u57FA\u7840\u6765\u542F\u52A8\u5BB9\u5668\u3002</li><li>bash\uFF1A\u653E\u5728\u955C\u50CF\u540D\u540E\u7684\u662F\u547D\u4EE4\uFF0C\u8FD9\u91CC\u6211\u4EEC\u5E0C\u671B\u6709\u4E2A\u4EA4\u4E92\u5F0F Shell\uFF0C\u56E0\u6B64\u7528\u7684\u662F bash\u3002</li></ul><h3 id="\u5217\u51FA\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u5217\u51FA\u955C\u50CF" aria-hidden="true">#</a> \u5217\u51FA\u955C\u50CF</h3><p>https://yeasy.gitbook.io/docker_practice/image/list</p><div class="language-text ext-text"><pre class="language-text"><code>$ docker image ls
REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
redis                latest              5f515359c7f8        5 days ago          183 MB
nginx                latest              05a60462f8ba        5 days ago          181 MB
mongo                3.2                 fe9198c04d62        5 days ago          342 MB
&lt;none&gt;               &lt;none&gt;              00285df0df87        5 days ago          342 MB
ubuntu               18.04               329ed837d508        3 days ago          63.3MB
ubuntu               bionic              329ed837d508        3 days ago          63.3MB
</code></pre></div><h3 id="\u4E2D\u95F4\u5C42\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u4E2D\u95F4\u5C42\u955C\u50CF" aria-hidden="true">#</a> \u4E2D\u95F4\u5C42\u955C\u50CF</h3><p>\u4E3A\u4E86\u52A0\u901F\u955C\u50CF\u6784\u5EFA\u3001\u91CD\u590D\u5229\u7528\u8D44\u6E90\uFF0CDocker \u4F1A\u5229\u7528 <strong>\u4E2D\u95F4\u5C42\u955C\u50CF</strong>\u3002\u6240\u4EE5\u5728\u4F7F\u7528\u4E00\u6BB5\u65F6\u95F4\u540E\uFF0C\u53EF\u80FD\u4F1A\u770B\u5230\u4E00\u4E9B\u4F9D\u8D56\u7684\u4E2D\u95F4\u5C42\u955C\u50CF\u3002\u9ED8\u8BA4\u7684 <code>docker image ls</code> \u5217\u8868\u4E2D\u53EA\u4F1A\u663E\u793A\u9876\u5C42\u955C\u50CF\uFF0C\u5982\u679C\u5E0C\u671B\u663E\u793A\u5305\u62EC\u4E2D\u95F4\u5C42\u955C\u50CF\u5728\u5185\u7684\u6240\u6709\u955C\u50CF\u7684\u8BDD\uFF0C\u9700\u8981\u52A0 <code>-a</code> \u53C2\u6570\u3002</p><div class="language-text ext-text"><pre class="language-text"><code>$ docker image ls -a
</code></pre></div><p>\u8FD9\u6837\u4F1A\u770B\u5230\u5F88\u591A\u65E0\u6807\u7B7E\u7684\u955C\u50CF\uFF0C\u4E0E\u4E4B\u524D\u7684\u865A\u60AC\u955C\u50CF\u4E0D\u540C\uFF0C\u8FD9\u4E9B\u65E0\u6807\u7B7E\u7684\u955C\u50CF\u5F88\u591A\u90FD\u662F\u4E2D\u95F4\u5C42\u955C\u50CF\uFF0C\u662F\u5176\u5B83\u955C\u50CF\u6240\u4F9D\u8D56\u7684\u955C\u50CF\u3002\u8FD9\u4E9B\u65E0\u6807\u7B7E\u955C\u50CF\u4E0D\u5E94\u8BE5\u5220\u9664\uFF0C\u5426\u5219\u4F1A\u5BFC\u81F4\u4E0A\u5C42\u955C\u50CF\u56E0\u4E3A\u4F9D\u8D56\u4E22\u5931\u800C\u51FA\u9519\u3002\u5B9E\u9645\u4E0A\uFF0C\u8FD9\u4E9B\u955C\u50CF\u4E5F\u6CA1\u5FC5\u8981\u5220\u9664\uFF0C\u56E0\u4E3A\u4E4B\u524D\u8BF4\u8FC7\uFF0C\u76F8\u540C\u7684\u5C42\u53EA\u4F1A\u5B58\u4E00\u904D\uFF0C\u800C\u8FD9\u4E9B\u955C\u50CF\u662F\u522B\u7684\u955C\u50CF\u7684\u4F9D\u8D56\uFF0C\u56E0\u6B64\u5E76\u4E0D\u4F1A\u56E0\u4E3A\u5B83\u4EEC\u88AB\u5217\u51FA\u6765\u800C\u591A\u5B58\u4E86\u4E00\u4EFD\uFF0C\u65E0\u8BBA\u5982\u4F55\u4F60\u4E5F\u4F1A\u9700\u8981\u5B83\u4EEC\u3002\u53EA\u8981\u5220\u9664\u90A3\u4E9B\u4F9D\u8D56\u5B83\u4EEC\u7684\u955C\u50CF\u540E\uFF0C\u8FD9\u4E9B\u4F9D\u8D56\u7684\u4E2D\u95F4\u5C42\u955C\u50CF\u4E5F\u4F1A\u88AB\u8FDE\u5E26\u5220\u9664\u3002</p><h3 id="commit" tabindex="-1"><a class="header-anchor" href="#commit" aria-hidden="true">#</a> commit</h3><p>\u955C\u50CF\u662F\u5BB9\u5668\u7684\u57FA\u7840\uFF0C\u6BCF\u6B21\u6267\u884C <code>docker run</code> \u7684\u65F6\u5019\u90FD\u4F1A\u6307\u5B9A\u54EA\u4E2A\u955C\u50CF\u4F5C\u4E3A\u5BB9\u5668\u8FD0\u884C\u7684\u57FA\u7840\u3002</p><p>\u955C\u50CF\u662F\u591A\u5C42\u5B58\u50A8\uFF0C\u6BCF\u4E00\u5C42\u662F\u5728\u524D\u4E00\u5C42\u7684\u57FA\u7840\u4E0A\u8FDB\u884C\u7684\u4FEE\u6539\uFF1B\u800C\u5BB9\u5668\u540C\u6837\u4E5F\u662F\u591A\u5C42\u5B58\u50A8\uFF0C\u662F\u5728\u4EE5\u955C\u50CF\u4E3A\u57FA\u7840\u5C42\uFF0C\u5728\u5176\u57FA\u7840\u4E0A\u52A0\u4E00\u5C42\u4F5C\u4E3A\u5BB9\u5668\u8FD0\u884C\u65F6\u7684\u5B58\u50A8\u5C42\u3002</p><p>\u5F53\u6211\u4EEC\u8FD0\u884C\u4E00\u4E2A\u5BB9\u5668\u7684\u65F6\u5019\uFF08\u5982\u679C\u4E0D\u4F7F\u7528\u5377\u7684\u8BDD\uFF09\uFF0C\u6211\u4EEC\u505A\u7684\u4EFB\u4F55\u6587\u4EF6\u4FEE\u6539\u90FD\u4F1A\u88AB\u8BB0\u5F55\u4E8E\u5BB9\u5668\u5B58\u50A8\u5C42\u91CC\u3002\u800CDocker\u63D0\u4F9B\u4E86\u4E00\u4E2A <code>docker commit</code> \u547D\u4EE4\uFF0C\u53EF\u4EE5\u5C06\u5BB9\u5668\u7684\u5B58\u50A8\u5C42\u4FDD\u5B58\u4E0B\u6765\u6210\u4E3A\u955C\u50CF\u3002\u6362\u53E5\u8BDD\u8BF4\uFF0C\u5C31\u662F\u5728\u539F\u6709\u955C\u50CF\u7684\u57FA\u7840\u4E0A\uFF0C\u518D\u53E0\u52A0\u4E0A\u5BB9\u5668\u7684\u5B58\u50A8\u5C42\uFF0C\u5E76\u6784\u6210\u65B0\u7684\u955C\u50CF\u3002\u4EE5\u540E\u6211\u4EEC\u8FD0\u884C\u8FD9\u4E2A\u65B0\u955C\u50CF\u7684\u65F6\u5019\uFF0C\u5C31\u4F1A\u62E5\u6709\u539F\u6709\u5BB9\u5668\u6700\u540E\u7684\u6587\u4EF6\u53D8\u5316\u3002</p><p>\u6B64\u5916\uFF0C\u4F7F\u7528 <code>docker commit</code> \u610F\u5473\u7740\u6240\u6709\u5BF9\u955C\u50CF\u7684\u64CD\u4F5C\u90FD\u662F\u9ED1\u7BB1\u64CD\u4F5C\uFF0C\u751F\u6210\u7684\u955C\u50CF\u4E5F\u88AB\u79F0\u4E3A<strong>\u9ED1\u7BB1\u955C\u50CF</strong>\u3002</p><p>\u800C\u4E14\uFF0C\u56DE\u987E\u4E4B\u524D\u63D0\u53CA\u7684\u955C\u50CF\u6240\u4F7F\u7528\u7684\u5206\u5C42\u5B58\u50A8\u7684\u6982\u5FF5\uFF0C\u9664\u5F53\u524D\u5C42\u5916\uFF0C\u4E4B\u524D\u7684\u6BCF\u4E00\u5C42\u90FD\u662F\u4E0D\u4F1A\u53D1\u751F\u6539\u53D8\u7684\uFF0C\u6362\u53E5\u8BDD\u8BF4\uFF0C\u4EFB\u4F55\u4FEE\u6539\u7684\u7ED3\u679C\u4EC5\u4EC5\u662F\u5728\u5F53\u524D\u5C42\u8FDB\u884C\u6807\u8BB0\u3001\u6DFB\u52A0\u3001\u4FEE\u6539\uFF0C\u800C\u4E0D\u4F1A\u6539\u52A8\u4E0A\u4E00\u5C42\u3002\u5982\u679C\u4F7F\u7528 <code>docker commit</code> \u5236\u4F5C\u955C\u50CF\uFF0C\u4EE5\u53CA\u540E\u671F\u4FEE\u6539\u7684\u8BDD\uFF0C\u6BCF\u4E00\u6B21\u4FEE\u6539\u90FD\u4F1A\u8BA9\u955C\u50CF\u66F4\u52A0\u81C3\u80BF\u4E00\u6B21\uFF0C\u6240\u5220\u9664\u7684\u4E0A\u4E00\u5C42\u7684\u4E1C\u897F\u5E76\u4E0D\u4F1A\u4E22\u5931\uFF0C\u4F1A\u4E00\u76F4\u5982\u5F71\u968F\u5F62\u7684\u8DDF\u7740\u8FD9\u4E2A\u955C\u50CF\uFF0C\u5373\u4F7F\u6839\u672C\u65E0\u6CD5\u8BBF\u95EE\u5230\u3002\u8FD9\u4F1A\u8BA9\u955C\u50CF\u66F4\u52A0\u81C3\u80BF\u3002</p><h3 id="dockerfile" tabindex="-1"><a class="header-anchor" href="#dockerfile" aria-hidden="true">#</a> Dockerfile</h3><p>\u4F7F\u7528dockerfile\u5B9A\u5236\u955C\u50CF</p><p><strong>From\u6307\u5B9A\u57FA\u7840\u955C\u50CF</strong></p><p>\u6240\u8C13\u5B9A\u5236\u955C\u50CF\uFF0C\u90A3\u4E00\u5B9A\u662F\u4EE5\u4E00\u4E2A\u955C\u50CF\u4E3A\u57FA\u7840\uFF0C\u5728\u5176\u4E0A\u8FDB\u884C\u5B9A\u5236\u3002\u5C31\u50CF\u6211\u4EEC\u4E4B\u524D\u8FD0\u884C\u4E86\u4E00\u4E2A nginx \u955C\u50CF\u7684\u5BB9\u5668\uFF0C\u518D\u8FDB\u884C\u4FEE\u6539\u4E00\u6837\uFF0C\u57FA\u7840\u955C\u50CF\u662F\u5FC5\u987B\u6307\u5B9A\u7684\u3002\u800C FROM \u5C31\u662F\u6307\u5B9A\u57FA\u7840\u955C\u50CF\uFF0C\u56E0\u6B64\u4E00\u4E2A Dockerfile \u4E2D FROM \u662F\u5FC5\u5907\u7684\u6307\u4EE4\uFF0C\u5E76\u4E14\u5FC5\u987B\u662F\u7B2C\u4E00\u6761\u6307\u4EE4\u3002</p><p>\u5728Docker Hub\u4E0A\u6709\u975E\u5E38\u591A\u7684\u9AD8\u8D28\u91CF\u7684\u5B98\u65B9\u955C\u50CF\uFF0C\u6709\u53EF\u4EE5\u76F4\u63A5\u62FF\u6765\u4F7F\u7528\u7684\u670D\u52A1\u7C7B\u7684\u955C\u50CF\uFF0C\u5982nginx\u3001redis\u3001mongo\u3001mysql\u3001httpd\u3001php\u3001tomcat\u7B49\uFF1B\u4E5F\u6709\u4E00\u4E9B\u65B9\u4FBF\u5F00\u53D1\u3001\u6784\u5EFA\u3001\u8FD0\u884C\u5404\u79CD\u8BED\u8A00\u5E94\u7528\u7684\u955C\u50CF\uFF0C\u5982 node\u3001openjdk\u3001python\u3001ruby\u3001golang\u7B49\u3002\u53EF\u4EE5\u5728\u5176\u4E2D\u5BFB\u627E\u4E00\u4E2A\u6700\u7B26\u5408\u6211\u4EEC\u6700\u7EC8\u76EE\u6807\u7684\u955C\u50CF\u4E3A\u57FA\u7840\u955C\u50CF\u8FDB\u884C\u5B9A\u5236\u3002</p><p>\u9664\u4E86\u9009\u62E9\u73B0\u6709\u955C\u50CF\u4E3A\u57FA\u7840\u955C\u50CF\u5916\uFF0CDocker \u8FD8\u5B58\u5728\u4E00\u4E2A\u7279\u6B8A\u7684\u955C\u50CF\uFF0C\u540D\u4E3A scratch\u3002\u8FD9\u4E2A\u955C\u50CF\u662F\u865A\u62DF\u7684\u6982\u5FF5\uFF0C\u5E76\u4E0D\u5B9E\u9645\u5B58\u5728\uFF0C\u5B83\u8868\u793A\u4E00\u4E2A\u7A7A\u767D\u7684\u955C\u50CF\u3002</p><div class="language-docker ext-docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> scratch</span>
...
</code></pre></div><p>\u5982\u679C\u4EE5scratch\u4E3A\u57FA\u7840\u955C\u50CF\u7684\u8BDD\uFF0C\u610F\u5473\u7740\u4F60\u4E0D\u4EE5\u4EFB\u4F55\u955C\u50CF\u4E3A\u57FA\u7840\uFF0C\u63A5\u4E0B\u6765\u6240\u5199\u7684\u6307\u4EE4\u5C06\u4F5C\u4E3A\u955C\u50CF\u7B2C\u4E00\u5C42\u5F00\u59CB\u5B58\u5728\u3002</p><p>\u4E0D\u4EE5\u4EFB\u4F55\u7CFB\u7EDF\u4E3A\u57FA\u7840\uFF0C\u76F4\u63A5\u5C06\u53EF\u6267\u884C\u6587\u4EF6\u590D\u5236\u8FDB\u955C\u50CF\u7684\u505A\u6CD5\u5E76\u4E0D\u7F55\u89C1\uFF0C\u5BF9\u4E8ELinux\u4E0B\u9759\u6001\u7F16\u8BD1\u7684\u7A0B\u5E8F\u6765\u8BF4\uFF0C\u5E76\u4E0D\u9700\u8981\u6709\u64CD\u4F5C\u7CFB\u7EDF\u63D0\u4F9B\u8FD0\u884C\u65F6\u652F\u6301\uFF0C\u6240\u9700\u7684\u4E00\u5207\u5E93\u90FD\u5DF2\u7ECF\u5728\u53EF\u6267\u884C\u6587\u4EF6\u91CC\u4E86\uFF0C\u56E0\u6B64\u76F4\u63A5 FROM scratch \u4F1A\u8BA9\u955C\u50CF\u4F53\u79EF\u66F4\u52A0\u5C0F\u5DE7\u3002\u4F7F\u7528 Go \u8BED\u8A00\u5F00\u53D1\u7684\u5E94\u7528\u5F88\u591A\u4F1A\u4F7F\u7528\u8FD9\u79CD\u65B9\u5F0F\u6765\u5236\u4F5C\u955C\u50CF\uFF0C\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u6709\u4EBA\u8BA4\u4E3A Go \u662F\u7279\u522B\u9002\u5408\u5BB9\u5668\u5FAE\u670D\u52A1\u67B6\u6784\u7684\u8BED\u8A00\u7684\u539F\u56E0\u4E4B\u4E00\u3002</p><div class="language-text ext-text"><pre class="language-text"><code>FROM debian:stretch

RUN apt-get update
RUN apt-get install -y gcc libc6-dev make wget
RUN wget -O redis.tar.gz &quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;
RUN mkdir -p /usr/src/redis
RUN tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1
RUN make -C /usr/src/redis
RUN make -C /usr/src/redis install
</code></pre></div><p>\u4E4B\u524D\u8BF4\u8FC7\uFF0CDockerfile \u4E2D\u6BCF\u4E00\u4E2A\u6307\u4EE4\u90FD\u4F1A\u5EFA\u7ACB\u4E00\u5C42\uFF0C<code>RUN</code> \u4E5F\u4E0D\u4F8B\u5916\u3002\u6BCF\u4E00\u4E2A <code>RUN</code> \u7684\u884C\u4E3A\uFF0C\u5C31\u548C\u521A\u624D\u6211\u4EEC\u624B\u5DE5\u5EFA\u7ACB\u955C\u50CF\u7684\u8FC7\u7A0B\u4E00\u6837\uFF1A\u65B0\u5EFA\u7ACB\u4E00\u5C42\uFF0C\u5728\u5176\u4E0A\u6267\u884C\u8FD9\u4E9B\u547D\u4EE4\uFF0C\u6267\u884C\u7ED3\u675F\u540E\uFF0C<code>commit</code> \u8FD9\u4E00\u5C42\u7684\u4FEE\u6539\uFF0C\u6784\u6210\u65B0\u7684\u955C\u50CF\u3002</p><p>\u800C\u4E0A\u9762\u7684\u8FD9\u79CD\u5199\u6CD5\uFF0C\u521B\u5EFA\u4E86 7 \u5C42\u955C\u50CF\u3002\u8FD9\u662F\u5B8C\u5168\u6CA1\u6709\u610F\u4E49\u7684\uFF0C\u800C\u4E14\u5F88\u591A\u8FD0\u884C\u65F6\u4E0D\u9700\u8981\u7684\u4E1C\u897F\uFF0C\u90FD\u88AB\u88C5\u8FDB\u4E86\u955C\u50CF\u91CC\uFF0C\u6BD4\u5982\u7F16\u8BD1\u73AF\u5883\u3001\u66F4\u65B0\u7684\u8F6F\u4EF6\u5305\u7B49\u7B49\u3002\u7ED3\u679C\u5C31\u662F\u4EA7\u751F\u975E\u5E38\u81C3\u80BF\u3001\u975E\u5E38\u591A\u5C42\u7684\u955C\u50CF\uFF0C\u4E0D\u4EC5\u4EC5\u589E\u52A0\u4E86\u6784\u5EFA\u90E8\u7F72\u7684\u65F6\u95F4\uFF0C\u4E5F\u5F88\u5BB9\u6613\u51FA\u9519\u3002 \u8FD9\u662F\u5F88\u591A\u521D\u5B66 Docker \u7684\u4EBA\u5E38\u72AF\u7684\u4E00\u4E2A\u9519\u8BEF\u3002</p><p>\u4E0A\u9762\u7684 <code>Dockerfile</code> \u6B63\u786E\u7684\u5199\u6CD5\u5E94\u8BE5\u662F\u8FD9\u6837\uFF1A</p><div class="language-docker ext-docker"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> debian:stretch</span>

<span class="token instruction"><span class="token keyword">RUN</span> set -x; buildDeps=<span class="token string">&#39;gcc libc6-dev make wget&#39;</span> <span class="token operator">\\</span>
    &amp;&amp; apt-get update <span class="token operator">\\</span>
    &amp;&amp; apt-get install -y <span class="token variable">$buildDeps</span> <span class="token operator">\\</span>
    &amp;&amp; wget -O redis.tar.gz <span class="token string">&quot;http://download.redis.io/releases/redis-5.0.3.tar.gz&quot;</span> <span class="token operator">\\</span>
    &amp;&amp; mkdir -p /usr/src/redis <span class="token operator">\\</span>
    &amp;&amp; tar -xzf redis.tar.gz -C /usr/src/redis --strip-components=1 <span class="token operator">\\</span>
    &amp;&amp; make -C /usr/src/redis <span class="token operator">\\</span>
    &amp;&amp; make -C /usr/src/redis install <span class="token operator">\\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/* <span class="token operator">\\</span>
    &amp;&amp; rm redis.tar.gz <span class="token operator">\\</span>
    &amp;&amp; rm -r /usr/src/redis <span class="token operator">\\</span>
    &amp;&amp; apt-get purge -y --auto-remove <span class="token variable">$buildDeps</span></span>

</code></pre></div><p><strong>\u5728\u64B0\u5199Dockerfile\u7684\u65F6\u5019\uFF0C\u8981\u7ECF\u5E38\u63D0\u9192\u81EA\u5DF1\uFF0C\u8FD9\u5E76\u4E0D\u662F\u5728\u5199Shell\u811A\u672C\uFF0C\u800C\u662F\u5728\u5B9A\u4E49\u6BCF\u4E00\u5C42\u8BE5\u5982\u4F55\u6784\u5EFA\u3002</strong></p><h2 id="\u64CD\u4F5C\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u64CD\u4F5C\u5BB9\u5668" aria-hidden="true">#</a> \u64CD\u4F5C\u5BB9\u5668</h2><h3 id="\u542F\u52A8\u5BB9\u5668-1" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5BB9\u5668-1" aria-hidden="true">#</a> \u542F\u52A8\u5BB9\u5668</h3><p>https://vuepress.mirror.docker-practice.com/container/run/#</p><p>-d\u53C2\u6570\u53EA\u662F\u6307\u5B9A\u5BB9\u5668\u5728\u540E\u53F0\u8FD0\u884C</p><p>\u5BB9\u5668\u662F\u5426\u4F1A\u957F\u4E45\u8FD0\u884C\uFF0C\u662F\u548C <code>docker run</code> \u6307\u5B9A\u7684\u547D\u4EE4\u6709\u5173\uFF0C\u548C <code>-d</code> \u53C2\u6570\u65E0\u5173\u3002</p><h3 id="\u7EC8\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u7EC8\u6B62\u5BB9\u5668" aria-hidden="true">#</a> \u7EC8\u6B62\u5BB9\u5668</h3><p>https://vuepress.mirror.docker-practice.com/container/stop/</p><h3 id="\u8FDB\u5165\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5165\u5BB9\u5668" aria-hidden="true">#</a> \u8FDB\u5165\u5BB9\u5668</h3><div class="language-text ext-text"><pre class="language-text"><code>$ docker run -dit ubuntu
69d137adef7a8a689cbcb059e94da5489d3cddd240ff675c640c8d96e84fe1f6

$ docker container ls
CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES
69d137adef7a        ubuntu:latest       &quot;/bin/bash&quot;         18 seconds ago      Up 17 seconds                           zealous_swirles

$ docker exec -i 69d1 bash
ls
bin
boot
dev
...

$ docker exec -it 69d1 bash
root@69d137adef7a:/#

</code></pre></div><h3 id="\u5220\u9664\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5BB9\u5668" aria-hidden="true">#</a> \u5220\u9664\u5BB9\u5668</h3><p>\u53EF\u4EE5\u4F7F\u7528 <code>docker container rm</code> \u6765\u5220\u9664\u4E00\u4E2A\u5904\u4E8E\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668\u3002\u4F8B\u5982</p><div class="language-bash ext-sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> container <span class="token function">rm</span> trusting_newton
trusting_newton
</code></pre></div><p>\u5982\u679C\u8981\u5220\u9664\u4E00\u4E2A\u8FD0\u884C\u4E2D\u7684\u5BB9\u5668\uFF0C\u53EF\u4EE5\u6DFB\u52A0 <code>-f</code> \u53C2\u6570\u3002Docker \u4F1A\u53D1\u9001 <code>SIGKILL</code> \u4FE1\u53F7\u7ED9\u5BB9\u5668\u3002</p><p>\u6E05\u7406\u6240\u6709\u5904\u4E8E\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668</p><p>\u7528 <code>docker container ls -a</code> \u547D\u4EE4\u53EF\u4EE5\u67E5\u770B\u6240\u6709\u5DF2\u7ECF\u521B\u5EFA\u7684\u5305\u62EC\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668\uFF0C\u5982\u679C\u6570\u91CF\u592A\u591A\u8981\u4E00\u4E2A\u4E2A\u5220\u9664\u53EF\u80FD\u4F1A\u5F88\u9EBB\u70E6\uFF0C\u7528\u4E0B\u9762\u7684\u547D\u4EE4\u53EF\u4EE5\u6E05\u7406\u6389\u6240\u6709\u5904\u4E8E\u7EC8\u6B62\u72B6\u6001\u7684\u5BB9\u5668\u3002</p><div class="language-bash ext-sh"><pre class="language-bash"><code>$ <span class="token function">docker</span> container prune
</code></pre></div><h2 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> docker-compose</h2><p>Compose\u5B9A\u4F4D\u662F\u300C\u5B9A\u4E49\u548C\u8FD0\u884C\u591A\u4E2A Docker \u5BB9\u5668\u7684\u5E94\u7528\uFF08Defining and running multi-container Docker applications\uFF09\u300D</p><p>\u5728\u65E5\u5E38\u5DE5\u4F5C\u4E2D\uFF0C\u7ECF\u5E38\u4F1A\u78B0\u5230\u9700\u8981\u591A\u4E2A\u5BB9\u5668\u76F8\u4E92\u914D\u5408\u6765\u5B8C\u6210\u67D0\u9879\u4EFB\u52A1\u7684\u60C5\u51B5\u3002\u4F8B\u5982\u8981\u5B9E\u73B0\u4E00\u4E2A Web \u9879\u76EE\uFF0C\u9664\u4E86 Web \u670D\u52A1\u5BB9\u5668\u672C\u8EAB\uFF0C\u5F80\u5F80\u8FD8\u9700\u8981\u518D\u52A0\u4E0A\u540E\u7AEF\u7684\u6570\u636E\u5E93\u670D\u52A1\u5BB9\u5668\uFF0C\u751A\u81F3\u8FD8\u5305\u62EC\u8D1F\u8F7D\u5747\u8861\u5BB9\u5668\u7B49\u3002</p><p>Compose\u6070\u597D\u6EE1\u8DB3\u4E86\u8FD9\u6837\u7684\u9700\u6C42\u3002\u5B83\u5141\u8BB8\u7528\u6237\u901A\u8FC7\u4E00\u4E2A\u5355\u72EC\u7684docker-compose.yml\u6A21\u677F\u6587\u4EF6\uFF08YAML\u683C\u5F0F\uFF09\u6765\u5B9A\u4E49\u4E00\u7EC4\u76F8\u5173\u8054\u7684\u5E94\u7528\u5BB9\u5668\u4E3A\u4E00\u4E2A\u9879\u76EE\uFF08project\uFF09\u3002</p><p>Compose \u4E2D\u6709\u4E24\u4E2A\u91CD\u8981\u7684\u6982\u5FF5\uFF1A</p><ul><li>\u670D\u52A1(service)\uFF1A\u4E00\u4E2A\u5E94\u7528\u7684\u5BB9\u5668\uFF0C\u5B9E\u9645\u4E0A\u53EF\u4EE5\u5305\u62EC\u82E5\u5E72\u8FD0\u884C\u76F8\u540C\u955C\u50CF\u7684\u5BB9\u5668\u5B9E\u4F8B\u3002</li><li>\u9879\u76EE(project)\uFF1A\u7531\u4E00\u7EC4\u5173\u8054\u7684\u5E94\u7528\u5BB9\u5668\u7EC4\u6210\u7684\u4E00\u4E2A\u5B8C\u6574\u4E1A\u52A1\u5355\u5143\uFF0C\u5728docker-compose.yml\u6587\u4EF6\u4E2D\u5B9A\u4E49\u3002</li></ul><p>\u4E00\u4E2A\u9879\u76EE\u53EF\u4EE5\u7531\u591A\u4E2A\u670D\u52A1\uFF08\u5BB9\u5668\uFF09\u5173\u8054\u800C\u6210\uFF0CCompose \u9762\u5411\u9879\u76EE\u8FDB\u884C\u7BA1\u7406\u3002</p><p>\u5BF9\u4E8E Compose \u6765\u8BF4\uFF0C\u5927\u90E8\u5206\u547D\u4EE4\u7684\u5BF9\u8C61\u65E2\u53EF\u4EE5\u662F\u9879\u76EE\u672C\u8EAB\uFF0C\u4E5F\u53EF\u4EE5\u6307\u5B9A\u4E3A\u9879\u76EE\u4E2D\u7684\u670D\u52A1\u6216\u8005\u5BB9\u5668\u3002\u5982\u679C\u6CA1\u6709\u7279\u522B\u7684\u8BF4\u660E\uFF0C\u547D\u4EE4\u5BF9\u8C61\u5C06\u662F\u9879\u76EE\uFF0C\u8FD9\u610F\u5473\u7740\u9879\u76EE\u4E2D\u6240\u6709\u7684\u670D\u52A1\u90FD\u4F1A\u53D7\u5230\u547D\u4EE4\u5F71\u54CD\u3002</p>`,93);function t(c,s){return r}var i=e(n,[["render",t],["__file","docker.html.vue"]]);export{i as default};
