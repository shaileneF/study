<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.45">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/icon/111.ico"><title>SpringBoot | shAilene</title><meta name="description" content="just be simple.">
    <link rel="modulepreload" href="/study/assets/app.2e8b3a67.js"><link rel="modulepreload" href="/study/assets/springboot.html.8bcbf562.js"><link rel="modulepreload" href="/study/assets/springboot.html.ed0faff6.js"><link rel="prefetch" href="/study/assets/index.html.ff49fac0.js"><link rel="prefetch" href="/study/assets/index.html.a4c97c8d.js"><link rel="prefetch" href="/study/assets/index.html.88a954d7.js"><link rel="prefetch" href="/study/assets/index.html.bf9ac770.js"><link rel="prefetch" href="/study/assets/gin.html.a146a983.js"><link rel="prefetch" href="/study/assets/golang.html.c601fde9.js"><link rel="prefetch" href="/study/assets/gorm.html.478a849b.js"><link rel="prefetch" href="/study/assets/Javaweb.html.3d3182a4.js"><link rel="prefetch" href="/study/assets/ES.html.18507bd9.js"><link rel="prefetch" href="/study/assets/一些知识点的记录.html.098c6554.js"><link rel="prefetch" href="/study/assets/Java笔记.html.4e07f9b5.js"><link rel="prefetch" href="/study/assets/dubbo.html.3680b749.js"><link rel="prefetch" href="/study/assets/springcloud（上）.html.bb24635a.js"><link rel="prefetch" href="/study/assets/springcloud（下）.html.20b7bd2f.js"><link rel="prefetch" href="/study/assets/zookeeper.html.604bbdc1.js"><link rel="prefetch" href="/study/assets/《并发编程的艺术》笔记.html.e420ea4e.js"><link rel="prefetch" href="/study/assets/并发编程.html.0269ef43.js"><link rel="prefetch" href="/study/assets/尚硅谷_宋红康_JDBC.html.ee4145e5.js"><link rel="prefetch" href="/study/assets/redis.html.f65e579b.js"><link rel="prefetch" href="/study/assets/Mybatis.html.cc49ef2f.js"><link rel="prefetch" href="/study/assets/spring.html.55b14ed8.js"><link rel="prefetch" href="/study/assets/springboot.html.fe995d31.js"><link rel="prefetch" href="/study/assets/springMVC.html.df7a0b8f.js"><link rel="prefetch" href="/study/assets/kafka.html.47d6cd75.js"><link rel="prefetch" href="/study/assets/RabbitMQ.html.8e4cc7a1.js"><link rel="prefetch" href="/study/assets/操作系统.html.11141a1a.js"><link rel="prefetch" href="/study/assets/flink基本篇.html.baef6e14.js"><link rel="prefetch" href="/study/assets/MySQL数据库笔记-第一部分.html.f01e8177.js"><link rel="prefetch" href="/study/assets/MySQL数据库笔记-第二部分.html.c7bdd0e7.js"><link rel="prefetch" href="/study/assets/404.html.93146c89.js"><link rel="prefetch" href="/study/assets/index.html.f41a32fb.js"><link rel="prefetch" href="/study/assets/index.html.b8f10a4b.js"><link rel="prefetch" href="/study/assets/index.html.d8e594ee.js"><link rel="prefetch" href="/study/assets/index.html.834cc56e.js"><link rel="prefetch" href="/study/assets/gin.html.a282f06a.js"><link rel="prefetch" href="/study/assets/golang.html.30366d69.js"><link rel="prefetch" href="/study/assets/gorm.html.f969edb2.js"><link rel="prefetch" href="/study/assets/Javaweb.html.6b422ba8.js"><link rel="prefetch" href="/study/assets/ES.html.6a8c1cc2.js"><link rel="prefetch" href="/study/assets/一些知识点的记录.html.6b1acd41.js"><link rel="prefetch" href="/study/assets/Java笔记.html.f59ac9b7.js"><link rel="prefetch" href="/study/assets/dubbo.html.198f5862.js"><link rel="prefetch" href="/study/assets/springcloud（上）.html.b3acef5d.js"><link rel="prefetch" href="/study/assets/springcloud（下）.html.f8886fe9.js"><link rel="prefetch" href="/study/assets/zookeeper.html.92627508.js"><link rel="prefetch" href="/study/assets/《并发编程的艺术》笔记.html.d6ded64f.js"><link rel="prefetch" href="/study/assets/并发编程.html.2b89baef.js"><link rel="prefetch" href="/study/assets/尚硅谷_宋红康_JDBC.html.ab25e56c.js"><link rel="prefetch" href="/study/assets/redis.html.508c15db.js"><link rel="prefetch" href="/study/assets/Mybatis.html.987d3c4e.js"><link rel="prefetch" href="/study/assets/spring.html.ae325ba5.js"><link rel="prefetch" href="/study/assets/springboot.html.98dd8a57.js"><link rel="prefetch" href="/study/assets/springMVC.html.80be07de.js"><link rel="prefetch" href="/study/assets/kafka.html.6b5f8622.js"><link rel="prefetch" href="/study/assets/RabbitMQ.html.81c12ba0.js"><link rel="prefetch" href="/study/assets/操作系统.html.f9002d71.js"><link rel="prefetch" href="/study/assets/flink基本篇.html.20af03b4.js"><link rel="prefetch" href="/study/assets/MySQL数据库笔记-第一部分.html.f63ab9b2.js"><link rel="prefetch" href="/study/assets/MySQL数据库笔记-第二部分.html.375c2834.js"><link rel="prefetch" href="/study/assets/404.html.91be7759.js"><link rel="prefetch" href="/study/assets/404.766739fc.js"><link rel="prefetch" href="/study/assets/Layout.16ace8b1.js">
    <link rel="stylesheet" href="/study/assets/style.2bba04cf.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/study/" class=""><img class="logo" src="/study/images/leo.jpg" alt="shAilene"><span class="site-name can-hide">shAilene</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/study/java/" class="router-link-active" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/python/" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/mw/" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/study/java/" class="router-link-active" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/python/" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></div><div class="navbar-item"><a href="/study/mw/" class="" aria-label="中间件"><!--[--><!--]--> 中间件 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">SpringBoot <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第1章-xml和javaconfig" class="router-link-active router-link-exact-active sidebar-item" aria-label="第1章 XML和JavaConfig"><!--[--><!--]--> 第1章 XML和JavaConfig <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#javaconfig" class="router-link-active router-link-exact-active sidebar-item" aria-label="JavaConfig"><!--[--><!--]--> JavaConfig <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#两个注解介绍" class="router-link-active router-link-exact-active sidebar-item" aria-label="两个注解介绍"><!--[--><!--]--> 两个注解介绍 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#importresource" class="router-link-active router-link-exact-active sidebar-item" aria-label="@ImportResource"><!--[--><!--]--> @ImportResource <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#propertyresource" class="router-link-active router-link-exact-active sidebar-item" aria-label="@PropertyResource"><!--[--><!--]--> @PropertyResource <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第2章-springboot入门" class="router-link-active router-link-exact-active sidebar-item" aria-label="第2章 springboot入门"><!--[--><!--]--> 第2章 springboot入门 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#使用springboot" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用springboot"><!--[--><!--]--> 使用springboot <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第一种方式-使用springboot提供的初始化器" class="router-link-active router-link-exact-active sidebar-item" aria-label="第一种方式： 使用springboot提供的初始化器"><!--[--><!--]--> 第一种方式： 使用springboot提供的初始化器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第二种方式-使用maven构建springboot项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="第二种方式：使用maven构建springboot项目"><!--[--><!--]--> 第二种方式：使用maven构建springboot项目 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springbootapplication注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="@SpringBootApplication注解"><!--[--><!--]--> @SpringBootApplication注解 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-2" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springbootconfiguration" class="router-link-active router-link-exact-active sidebar-item" aria-label="@SpringBootConfiguration"><!--[--><!--]--> @SpringBootConfiguration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#enableautoconfiguration" class="router-link-active router-link-exact-active sidebar-item" aria-label="@EnableAutoConfiguration"><!--[--><!--]--> @EnableAutoConfiguration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#componentscan" class="router-link-active router-link-exact-active sidebar-item" aria-label="@ComponentScan"><!--[--><!--]--> @ComponentScan <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot配置文件" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot配置文件"><!--[--><!--]--> springboot配置文件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-3" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#properties格式" class="router-link-active router-link-exact-active sidebar-item" aria-label="properties格式"><!--[--><!--]--> properties格式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#yml格式" class="router-link-active router-link-exact-active sidebar-item" aria-label="yml格式"><!--[--><!--]--> yml格式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#多环境配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="多环境配置"><!--[--><!--]--> 多环境配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot自定义配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot自定义配置"><!--[--><!--]--> springboot自定义配置 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用jsp" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用jsp"><!--[--><!--]--> springboot中使用jsp <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用applicationcontext" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用ApplicationContext"><!--[--><!--]--> springboot中使用ApplicationContext <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用commandlinerunner接口" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用CommandLineRunner接口"><!--[--><!--]--> springboot中使用CommandLineRunner接口 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第3章-springboot和web组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="第3章 springboot和web组件"><!--[--><!--]--> 第3章 springboot和web组件 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用拦截器" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用拦截器"><!--[--><!--]--> springboot中使用拦截器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用servlet" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用servlet"><!--[--><!--]--> springboot中使用servlet <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中使用过滤器" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中使用过滤器"><!--[--><!--]--> springboot中使用过滤器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第4章-orm操作mysql" class="router-link-active router-link-exact-active sidebar-item" aria-label="第4章 ORM操作MySQL"><!--[--><!--]--> 第4章 ORM操作MySQL <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-4" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用"><!--[--><!--]--> 使用 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="步骤"><!--[--><!--]--> 步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第一种方式-mapper注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="第一种方式：@Mapper注解"><!--[--><!--]--> 第一种方式：@Mapper注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第二种方式-mapperscan注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="第二种方式：@MapperScan注解"><!--[--><!--]--> 第二种方式：@MapperScan注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#dao接口和mapper文件分开存储" class="router-link-active router-link-exact-active sidebar-item" aria-label="dao接口和mapper文件分开存储"><!--[--><!--]--> dao接口和mapper文件分开存储 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#事务支持" class="router-link-active router-link-exact-active sidebar-item" aria-label="事务支持"><!--[--><!--]--> 事务支持 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第5章-接口架构风格-restful" class="router-link-active router-link-exact-active sidebar-item" aria-label="第5章 接口架构风格-RESTful"><!--[--><!--]--> 第5章 接口架构风格-RESTful <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-5" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#restful的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="RESTful的注解"><!--[--><!--]--> RESTful的注解 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#pathvariable" class="router-link-active router-link-exact-active sidebar-item" aria-label="@PathVariable"><!--[--><!--]--> @PathVariable <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#getmapping" class="router-link-active router-link-exact-active sidebar-item" aria-label="@GetMapping"><!--[--><!--]--> @GetMapping <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#postmapping" class="router-link-active router-link-exact-active sidebar-item" aria-label="@PostMapping"><!--[--><!--]--> @PostMapping <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#putmapping" class="router-link-active router-link-exact-active sidebar-item" aria-label="@PutMapping"><!--[--><!--]--> @PutMapping <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#deletemapping" class="router-link-active router-link-exact-active sidebar-item" aria-label="@DeleteMapping"><!--[--><!--]--> @DeleteMapping <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#restcontroller" class="router-link-active router-link-exact-active sidebar-item" aria-label="@RestController"><!--[--><!--]--> @RestController <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#postman" class="router-link-active router-link-exact-active sidebar-item" aria-label="postman"><!--[--><!--]--> postman <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第6章-springboot集成redis" class="router-link-active router-link-exact-active sidebar-item" aria-label="第6章 springboot集成redis"><!--[--><!--]--> 第6章 springboot集成redis <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-6" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#步骤-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="步骤"><!--[--><!--]--> 步骤 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#序列化" class="router-link-active router-link-exact-active sidebar-item" aria-label="序列化"><!--[--><!--]--> 序列化 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第7章-springboot集成dubbo" class="router-link-active router-link-exact-active sidebar-item" aria-label="第7章 springboot集成dubbo"><!--[--><!--]--> 第7章 springboot集成dubbo <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#实现步骤" class="router-link-active router-link-exact-active sidebar-item" aria-label="实现步骤"><!--[--><!--]--> 实现步骤 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#公共项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="公共项目"><!--[--><!--]--> 公共项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#服务提供者项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务提供者项目"><!--[--><!--]--> 服务提供者项目 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#服务消费者项目" class="router-link-active router-link-exact-active sidebar-item" aria-label="服务消费者项目"><!--[--><!--]--> 服务消费者项目 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第8章-springboot项目打包" class="router-link-active router-link-exact-active sidebar-item" aria-label="第8章 springboot项目打包"><!--[--><!--]--> 第8章 springboot项目打包 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-7" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#打包为war包" class="router-link-active router-link-exact-active sidebar-item" aria-label="打包为war包"><!--[--><!--]--> 打包为war包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#打包为jar包" class="router-link-active router-link-exact-active sidebar-item" aria-label="打包为jar包"><!--[--><!--]--> 打包为jar包 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#jar包和war包的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="jar包和war包的区别"><!--[--><!--]--> jar包和war包的区别 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#第9章-模板引擎thymeleaf" class="router-link-active router-link-exact-active sidebar-item" aria-label="第9章 模板引擎Thymeleaf"><!--[--><!--]--> 第9章 模板引擎Thymeleaf <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#概述-8" class="router-link-active router-link-exact-active sidebar-item" aria-label="概述"><!--[--><!--]--> 概述 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#使用-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="使用"><!--[--><!--]--> 使用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#thymeleaf语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="thymeleaf语法"><!--[--><!--]--> thymeleaf语法 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#标准变量表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="标准变量表达式"><!--[--><!--]--> 标准变量表达式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#选择变量表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="选择变量表达式"><!--[--><!--]--> 选择变量表达式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#链接表达式" class="router-link-active router-link-exact-active sidebar-item" aria-label="链接表达式"><!--[--><!--]--> 链接表达式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性"><!--[--><!--]--> 属性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#注解总结" class="router-link-active router-link-exact-active sidebar-item" aria-label="注解总结："><!--[--><!--]--> 注解总结： <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#spring-springmvc-springboot" class="router-link-active router-link-exact-active sidebar-item" aria-label="spring+springMVC+springboot"><!--[--><!--]--> spring+springMVC+springboot <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#创建对象的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="创建对象的注解"><!--[--><!--]--> 创建对象的注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#赋值的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="赋值的注解"><!--[--><!--]--> 赋值的注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#其他注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="其他注解"><!--[--><!--]--> 其他注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#springboot中的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="springboot中的注解"><!--[--><!--]--> springboot中的注解 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#mybatis相关的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="mybatis相关的注解"><!--[--><!--]--> mybatis相关的注解 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/study/java/%E6%A1%86%E6%9E%B6/springboot/springboot.html#dubbo相关的注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="dubbo相关的注解"><!--[--><!--]--> dubbo相关的注解 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot" aria-hidden="true">#</a> SpringBoot</h1><h2 id="第1章-xml和javaconfig" tabindex="-1"><a class="header-anchor" href="#第1章-xml和javaconfig" aria-hidden="true">#</a> 第1章 XML和JavaConfig</h2><h3 id="概述" tabindex="-1"><a class="header-anchor" href="#概述" aria-hidden="true">#</a> 概述</h3><ol><li><p>spring和springMVC都有一个容器的概念，都需要写大量的配置文件。</p><p>配置文件越多，在使用上越麻烦，越容易出错。</p></li><li><p>springboot可以让我们少写配置。通过springboot框架，我们可以很少写配置文件，我们可以直接在项目中使用。</p><p>可以理解为，用springboot能够实现spring、spirngMVC的功能，而不用再写之前那些配置文件就可以使用了。</p><p>可以理解为是更加快速的spring和springMVC</p></li><li><p>为什么要使用springboot</p><p>因为spring、springMVC需要使用大量的配置文件（xml文件，即使是采用注解，也需要配置文件里写组件扫描器之类的），还需要配置各种对象，把使用的对象放入到spring和springmvc容器中才能使用对象。</p><p>那么就需要了解其他框架的配置规则。</p><p>springboot相当于是不需要配置文件的spring + springMVC。并且常用的框架和第三方库都已经配置好了，开箱即用。</p><p>使用springboot开发效率高。</p></li></ol><h3 id="javaconfig" tabindex="-1"><a class="header-anchor" href="#javaconfig" aria-hidden="true">#</a> JavaConfig</h3><ol><li><p>spring本来是使用XML配置文件作为容器配置文件，在3.0以后加入了JavaConfig，使用Java类做配置文件使用。</p></li><li><p>JavaConfig是spring提供的Java类配置容器，是配置spring容器的纯Java方法。</p><p>也就是现在配置spring容器，不需要写xml配置文件了，用Java类来当作配置文件。</p></li><li><p>在这个Java配置类可以创建Java对象，把对象放入spring容器中！</p></li><li><p>Java配置类需要两个注解的支持。</p><ul><li><p>@Configuration---放在类上面</p><p>作用：放在一个类的上面，表示这个类作为配置文件使用，这个类就相当于XML文件了。</p></li><li><p>@Bean----放在方法上面</p><p>作用：声明对象，把对象注入到容器中。</p></li></ul><p>使用方式：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Configuration: 表示当前类是作为配置文件使用的， 就是用来配置spring容器的，也就是配置spring容器中的对象的。
 * 位置：写在类的上面。
 * SpringConfig这个类就相当于bean.xml
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfigure</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * 创建方法，方法的返回值是对象，在方法的上面加入@Bean
     * 这个返回的对象就会注入到spring容器中
     *
     * @Bean：把返回的对象注入到spring容器中
     * 这个注解的作用就相当于原spring容器xml配置文件中的 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
     *
     * 说明：@Bean,如果不指定对象的名称，默认方法名是对象在容器中的名字即id
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">createStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s1<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s1<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> s1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * @Bean,指定对象在容器中的名称即id
     */</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;lisiStudent&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">makeStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s2<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s2<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        s2<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> s2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>在项目中，这种配置类可以有若干个，这些类被当作spring容器的配置文件来用！！</p><p>就是用Java类（配置类）的形式来完成原XML配置文件的作用。</p></li><li><p>优点：</p><ul><li>可以使用面向对象的方式，一个配置类可以继承配置类，可以重写方法。</li><li>避免繁琐的XML配置</li></ul></li></ol><h3 id="两个注解介绍" tabindex="-1"><a class="header-anchor" href="#两个注解介绍" aria-hidden="true">#</a> 两个注解介绍</h3><h4 id="importresource" tabindex="-1"><a class="header-anchor" href="#importresource" aria-hidden="true">#</a> @ImportResource</h4><ol><li><p>@ImportResource是导入其他XML配置文件，等同于XML文件的<code>&lt;import resources=&quot;配置文件&quot;/&gt;</code></p><p>如果现在有些bean的配置是放在XML配置文件之中，但是现在想用JavaConfig的方式来配置容器，那么可以用这个注解来利用已存在的XML配置文件。</p></li><li><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;classpath:applicationContext.xml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfigure</span> <span class="token punctuation">{</span>
</code></pre></div><p>属性可以用value 也可以用locations，它们互为别名，是一个意思，指定需要导入的其他XML配置文件。</p><p>classpath是类路径即<code>target/classes</code>，如果不知道类路径，那么可以编译之后看一下。</p></li><li><p>如果需要利用已存在的多个XML配置文件，那么就在value里指定多个，value指定的值是数组。</p><p><img src="/study/assets/image-20220109172015393.b2bea150.png" alt="image-20220109172015393"></p></li></ol><h4 id="propertyresource" tabindex="-1"><a class="header-anchor" href="#propertyresource" aria-hidden="true">#</a> @PropertyResource</h4><ol><li><p>读取属性配置文件，也就是xxx.properties配置文件</p></li><li><p>最常见是把数据库的配置文件放在properties配置文件中，那么可以通过这个注解读取到。</p><p><img src="/study/assets/image-20220109172632702.edecdf0b.png" alt="image-20220109172632702"></p></li><li><p>使用属性配置文件可以实现外部化配置，在程序代码之外提供数据</p></li><li><p>步骤：</p><ul><li>在resources目录下，创建properties文件，使用k=v的格式提供数据</li><li><strong>在PropertyResource指定properties文件的位置</strong></li><li>使用@Value(&quot;${key}&quot;)</li></ul><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;classpath:config.properties&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;org.example.vo&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfigure</span> <span class="token punctuation">{</span>
</code></pre></div><p>@ComponentScan作用是扫描包，将用注解声明的对象，放到容器中，和之前用XML配置文件的方式是一样的，即使是通过注解创建对象，要配置组件扫描器，这个注解就相当于组件扫描器。</p><p>而@PropertyResource就是指定properties文件的位置</p></li><li><p>为什么@PropertyResource和@ImportResource这些注解要写在SpringConfigure这个类上面，因为这个类上面有@Configure注解，说明这是一个配置类，是来配置spring容器的。</p><p>把这个类当作配置文件就好，之前的组件扫描器等都是写在此XML配置文件中的。</p><p>那么这些配置的注解都写在@Configure这个配置类上面</p></li></ol><h2 id="第2章-springboot入门" tabindex="-1"><a class="header-anchor" href="#第2章-springboot入门" aria-hidden="true">#</a> 第2章 springboot入门</h2><h3 id="概述-1" tabindex="-1"><a class="header-anchor" href="#概述-1" aria-hidden="true">#</a> 概述</h3><ol><li><p>springboot是spring大家族中的一个成员，可以简化spring、springMVC的使用，他的核心仍然是IOC容器。</p></li><li><p>特点：</p><ul><li><p>创建一个独立的spring应用</p></li><li><p>内嵌tomcat服务器，就是说不用单独安装tomcat，就能执行web应用。</p></li><li><p>提供starter起步依赖，来简化应用的配置。----自动导入、管理jar包</p><p>以前依赖的jar包的版本必须控制好，都是自己去控制、添加依赖，现在springboot给我们<strong>提供了starter启动器</strong>，假如我们想要开发web应用，我们只需要添加一个web的启动器依赖，不需要管理其他web开发需要的jar包，springboot自动管理jar包，并且保证jar包的版本</p><p>starter可以理解为是我们某一个开发场景的全部依赖，springboot都给我们导入，相当于导入我们某一个开发场景的开发环境。</p></li><li><p>尽可能自动配置spring和第三方库。----自动配置，这一点是强调配置文件。</p><p>比如说我们要使用mybatis框架，需要在spring项目中，配置dataSource，配置mybatis的对象SqlSessionFactory，还有dao的代理对象。</p><p>在springboot项目中，自动配置好了。</p><p><strong>不用像以前整合mybatis、spring、springmvc要写一大堆配置</strong></p><p>这些配置现在springboot自动配置</p><p>专注我们的业务逻辑</p></li><li><p>提供生产级别的监控、健康检查及外部化配置</p></li><li><p>不用生成代码，不用使用XML去做配置。</p></li></ul></li></ol><h3 id="使用springboot" tabindex="-1"><a class="header-anchor" href="#使用springboot" aria-hidden="true">#</a> 使用springboot</h3><h4 id="第一种方式-使用springboot提供的初始化器" tabindex="-1"><a class="header-anchor" href="#第一种方式-使用springboot提供的初始化器" aria-hidden="true">#</a> 第一种方式： 使用springboot提供的初始化器</h4><ol><li><p>这是使用spring官方提供的初始化器。通过https://start.spring.io</p><p>通过这种方式构建springboot项目时，以下是初始化能选择的依赖，我们开发要用到的依赖和场景可以在这里选择。</p><p><img src="/study/assets/image-20220109191345685.2be380c3.png" alt="image-20220109191345685"></p></li><li><p>构建好了之后，项目结构如下：</p><p><img src="/study/assets/image-20220109191851866.c2bdaf08.png" alt="image-20220109191851866"></p><p>mvnw和mvnw.cmd相当于是maven增强的工具，springboot项目也是通过maven来管理的，比如说我们在控制台执行mvn clean 或mvn install等命令的时候，如果没有安装maven，那么会自动帮我们安装，这是这两个文件的作用。</p></li><li><p><img src="/study/assets/image-20220109192058645.fce5cd05.png" alt="image-20220109192058645"></p><p>main目录下，是功能实现类。</p><p>resources下是放资源文件的</p><ul><li>static下是放静态资源的，比如js文件、css文件、html文件、图片等。</li><li>templates是放模板文件的（用于视图层的）</li><li>application.properties是springboot的配置文件</li></ul></li><li><p>pom文件</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--springboot项目的父项目--&gt;</span>
    <span class="token comment">&lt;!--父项目是管理依赖和依赖版本的。--&gt;</span>
    <span class="token comment">&lt;!--和springboot项目有关的依赖和版本都是在父项目中来定义和声明的。--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.4.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--当前项目的gav即坐标--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bjpowernode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springboot-02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
            我们自己选择的开发场景的依赖
            可以看到这里没有写版本号，因为用的是父项目中规定好的版本号。
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--做测试的--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--springboot项目用到的maven的插件，用来打包、构建等工作--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>

</code></pre></div></li><li><p><img src="/study/assets/image-20220109193243155.07ecb077.png" alt="image-20220109193243155"></p><p>发现一个starter，就引用了好多相关的依赖，springboot都帮我们导入好了。</p><p>我们在pom文件中，并没有显示地添加springmvc的依赖，但是这里已经导入了。就是通过starter，将某一个场景相关的依赖都导入进来。</p></li></ol><h4 id="第二种方式-使用maven构建springboot项目" tabindex="-1"><a class="header-anchor" href="#第二种方式-使用maven构建springboot项目" aria-hidden="true">#</a> 第二种方式：使用maven构建springboot项目</h4><ol><li><p>需要我们自己去创建springboot项目的目录、pom文件里添加依赖。</p></li><li><p>这是一个maven项目的pom文件，添加spring-boot-starter-parent</p><p><img src="/study/assets/image-20220109194501005.68d38648.png" alt="image-20220109194501005"></p><p>那么现在就是基于springboot框架的了。</p><p>接着添加依赖</p><p><img src="/study/assets/image-20220109194529828.67f05266.png" alt="image-20220109194529828"></p><p>这就可以基于springboot做web开发了。</p></li><li><p>resources资源目录下所需要的配置文件和目录也需要对应建立出来。</p></li><li><p>springboot把我们做开发所需要的配置都配置好了，比如web开发，我们不需要自己去配置springmvc，不需要些springmvc配置文件，包括中央调度器或者说前端控制器DispatcherServlet也已经配置好了。</p></li></ol><h3 id="springbootapplication注解" tabindex="-1"><a class="header-anchor" href="#springbootapplication注解" aria-hidden="true">#</a> @SpringBootApplication注解</h3><h4 id="概述-2" tabindex="-1"><a class="header-anchor" href="#概述-2" aria-hidden="true">#</a> 概述</h4><ol><li><p>我们通过主方法启动springboot项目。</p><p>这个类叫主启动类。</p><p>在主启动类上面一定有@SpringBootApplication这个注解</p></li><li><p><img src="/study/assets/image-20220109195902935.da3776f5.png" alt="image-20220109195902935"></p></li><li><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Inherited</span>
这几个注解叫元注解信息，比如<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">}</span><span class="token punctuation">)</span>是说<span class="token annotation punctuation">@SpringBootApplication</span>用在类之上的。
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>是说<span class="token annotation punctuation">@SpringBootApplication</span>是在运行期起作用
</code></pre></div></li><li><p>可以看到@SpringBootApplication这个注解是一个复合注解，是由多个注解的功能所组成的，主要是以下三个注解</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootConfiguration</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>
<span class="token annotation punctuation">@ComponentScan</span>
</code></pre></div></li></ol><h4 id="springbootconfiguration" tabindex="-1"><a class="header-anchor" href="#springbootconfiguration" aria-hidden="true">#</a> @SpringBootConfiguration</h4><ol><li><p>@SpringBootConfiguration</p><p><img src="/study/assets/image-20220109200259743.b2c2c661.png" alt="image-20220109200259743"></p><p>说明@SpringBootConfiguration这个注解的作用应该和@Configuration是保持一致的，也就是说被@SpringBootConfiguration注解标注的类，能够当作配置类即JavaConfig，就可以定义Bean，把对象注入到容器中。如下：</p><p><img src="/study/assets/image-20220109200749417.15d86ec0.png" alt="image-20220109200749417"></p></li></ol><h4 id="enableautoconfiguration" tabindex="-1"><a class="header-anchor" href="#enableautoconfiguration" aria-hidden="true">#</a> @EnableAutoConfiguration</h4><ol><li><p>@EnableAutoConfiguration</p><p>启动自动配置。</p><p>把Java对象配置好，注入到spring容器中。例如可以把mybatis的对象创建好，放入到容器中。</p><p>自动配置强调配置文件，starter是强调起步的依赖、jar包。</p><p>比如我们以前整合mybatis，那么需要在spring配置文件中，写dataSource配置、SessionFactory配置以及dao接口的对象的配置。现在这些配置不需要写，由springboot帮我们做。这就是自动配置。</p><p>我们通过这个注解，可以拿到我们用mybatis所需要的对象，但是我们并没有配置。</p><p>以前没有用springboot的时候，做ssm整合，在spring的xml配置文件里写很多配置。如下，就称为配置：</p><div class="language-xml ext-xml"><pre class="language-xml"><code>
    <span class="token comment">&lt;!--spring配置文件：声明dao、service、工具类等对象，将对象交给容器创建--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:conf/jdbc.properties<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 声明数据源，连接数据库--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>init<span class="token punctuation">&quot;</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--SqlSessionFactoryBean创建SqlSessionFactory--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>configLocation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:conf/mybatis.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--声明mybatis的扫描器，创建dao接口的实现类对象（通过动态代理。实现类不需要写，但是service的实现类是要写的）--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SqlSessionFactoryBeanName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sqlSessionFactory<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basePackage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>现在这些配置不需要我们写了。</p></li></ol><h4 id="componentscan" tabindex="-1"><a class="header-anchor" href="#componentscan" aria-hidden="true">#</a> @ComponentScan</h4><ol><li><p>@ComponentScan</p><p>组件扫描器。</p><p>通过这个注解能够找到添加了注解（@Component、@Controller等）的其他类，找到注解，根据注解的功能创建对象，给属性赋值等等。</p><p><img src="/study/assets/image-20220109202039561.470d01ea.png" alt="image-20220109202039561"></p><p>我们写这个代码，在这个类上面添加了@Controller，但是我们并没有添加组件扫描器，在容器中仍然有这个Controller对象，原因就是@SpringBootApplication这个注解里的@ComponentScan是个组件扫描器。</p><p>如果我们不用springboot开发，用ssm的时候，一定要配置组件扫描器，来找到@Controller注解修饰的Controller对象，并注入到容器中。如下：</p><div class="language-xml ext-xml"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- springmvc配置文件，声明controller和其他web相关的对象--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.example.controller<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>@Controller、@Service、@Repository、@Component注解是创建对象，那么组件扫描器就是找到对象并放在容器中。</p></li><li><p><img src="/study/assets/image-20220109202809633.6e045374.png" alt="image-20220109202809633"></p><p>主启动类是在主包下面，Controller类是在主包的子包下面。</p><p>组件扫描器的规则：</p><p>默认扫描的包是@ComponentScan所在的类所在的包和子包。</p></li></ol><h3 id="springboot配置文件" tabindex="-1"><a class="header-anchor" href="#springboot配置文件" aria-hidden="true">#</a> springboot配置文件</h3><h4 id="概述-3" tabindex="-1"><a class="header-anchor" href="#概述-3" aria-hidden="true">#</a> 概述</h4><ol><li>配置文件名称：application</li><li>扩展名有： <ul><li>.properties(k=v)</li><li>.yml(k: v)</li></ul></li></ol><h4 id="properties格式" tabindex="-1"><a class="header-anchor" href="#properties格式" aria-hidden="true">#</a> properties格式</h4><ol><li><p>里面有各种配置项。</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">## 设置端口号。</span>
<span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8082</span>
<span class="token comment">#设置访问应用的上下文路径</span>
<span class="token key attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token value attr-value">/myboot</span>
</code></pre></div></li></ol><h4 id="yml格式" tabindex="-1"><a class="header-anchor" href="#yml格式" aria-hidden="true">#</a> yml格式</h4><ol><li><p>可读性更强。</p></li><li><p>冒号、空格必须有。</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8083</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /myboot2
</code></pre></div></li><li><p>当两种格式的配置文件同时存在，从springboot开始，使用yml配置文件。</p></li></ol><h4 id="多环境配置" tabindex="-1"><a class="header-anchor" href="#多环境配置" aria-hidden="true">#</a> 多环境配置</h4><ol><li><p>在实际开发的过程中，我们的项目会经历很多阶段，比如开发、测试、上线。</p><p>每个阶段的配置都不同，例如：端口、上下文根、数据库url、用户名、密码等等。那么这个时候为了方便在不同的环境之间切换，springboot提供了多环境配置。</p></li><li><p>使用方式：</p><p>为每个环境创建一个配置文件，命名必须为application-环境标识.properties/yml</p><p>比如创建开发环境的配置文件：application-dev.properties/yml</p><p>比如创建测试环境的配置文件：application-test.properties/yml</p></li><li><p>在application.properties/yml文件中指定激活哪个配置文件。</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">#激活使用哪个配置文件</span>
<span class="token key attr-name">spring.profiles.active</span><span class="token punctuation">=</span><span class="token value attr-value">dev</span>
</code></pre></div></li></ol><h4 id="springboot自定义配置" tabindex="-1"><a class="header-anchor" href="#springboot自定义配置" aria-hidden="true">#</a> springboot自定义配置</h4><ol><li><p>springboot核心配置文件中，除了使用内置的配置项之外，我们还可以自定义配置，然后采用如下注解去读取配置的属性值。</p><ul><li><p>@Value(&quot;${key}&quot;)，key来自application.properties/yml</p><p>之前说的JavaConfig，用Java类来代替XML配置文件，是说的xml容器配置文件，Java类的作用是创建对象，并将对象注入到容器，这个类用@Configuration注解修饰，要结合@Bean注解，@Bean注解就相当于原来XML文件里&lt;bean&gt;</p><p>而现在这里说的配置文件是指springboot配置文件.properties或.yml，在开发中，此配置文件里的值也可以用类来接收（此类的名称可能会取为XxxConfig），并且给属性赋值，通过@Value(&quot;${key}&quot;)的方式。<strong>而此类不是之前说的用@Configuration修饰的类</strong>，不要弄混了。下面就会介绍@ConfigurationProperties注解，对应于.properties/yml文件，和@Configuration不一样，就是说的这个意思。</p><p>application.properties/yml配置的值可以通过@Value注解给属性赋值。</p></li><li><p>@ConfigurationProperties</p><p>将整个文件映射成一个对象，用于自定义配置项比较多的情况。</p><p><img src="/study/assets/image-20220109214455395.943cc1df.png" alt="image-20220109214455395"></p><p><img src="/study/assets/image-20220109214513064.b7ed74b1.png" alt="image-20220109214513064"></p></li></ul></li></ol><h3 id="springboot中使用jsp" tabindex="-1"><a class="header-anchor" href="#springboot中使用jsp" aria-hidden="true">#</a> springboot中使用jsp</h3><ol><li><p>用springboot框架，默认不支持jsp，也不推荐用jsp。</p><p>jsp会慢慢被淘汰掉，我们会用模板引擎技术来替代jsp</p></li><li><p>Thymeleaf是一个流行的模板引擎，该模板引擎采用Java语言开发。</p><p>Thymeleaf对网络环境不存在严格的要求，既能用于web环境下，也能用于非web环境下。</p><p>在非web环境下，能直接显示模板上的静态数据，在web环境下，它能像jsp一样从后台接收数据并替换掉模板上的静态数据。它是基于HTML的，以HTML标签为载体，thymeleaf要寄托在html标签下实现。</p><p>springboot继承了thymeleaf模板技术来替代jsp技术，作为前端页面的数据展示，在过去的Javaweb开发中，我们往往会选择使用jsp来完成页面的动态渲染，但是jsp需要翻译编译运行，效率低。</p></li></ol><h3 id="springboot中使用applicationcontext" tabindex="-1"><a class="header-anchor" href="#springboot中使用applicationcontext" aria-hidden="true">#</a> springboot中使用ApplicationContext</h3><ol><li><p>在main方法中通过SpringApplication.run()方法获取返回的spring容器对象，再获取业务bean进行调用。</p></li><li><p>此run方法的返回值就是容器.</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot03Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot03Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>获取到容器对象之后，我们就能通过getBean方法获取容器中的对象，就和没有使用springboot的时候是一样的。</p><div class="language-java ext-java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ConfigurableApplicationContext</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> primarySource<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>primarySource<span class="token punctuation">}</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>ConfigurableApplicationContext是一个接口，是ApplicationContext的子接口，所以这个返回值就是一个接口。</p><p><img src="/study/assets/image-20220110134309826.49d78a20.png" alt="image-20220110134309826"></p><p>这种就是一般自己做测试的时候可以使用这种方法。</p></li></ol><h3 id="springboot中使用commandlinerunner接口" tabindex="-1"><a class="header-anchor" href="#springboot中使用commandlinerunner接口" aria-hidden="true">#</a> springboot中使用CommandLineRunner接口</h3><ol><li><p><strong>开发中可能会有这样的场景，需要在容器启动后，执行一些内容，比如读取配置文件，连接数据库等等。</strong></p><p><strong>springboot给我们提供了两个接口来帮助我们实现这种需求。这两个接口分别为CommandLineRunner和ApplicationRunner。</strong></p><p><strong>它们的执行时机为容器启动完成的时候</strong></p><p>这两个接口中有一个run方法，我们只需要实现这个run方法即可。</p></li><li><p>这两个接口的不同之处在于：</p><ul><li><p>ApplicationRunner接口中run方法的参数为ApplicationArguments</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ApplicationRunner</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>CommandLineRunner接口中run方法的参数为String数组</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul><p>这两个接口用哪个都可以，他们的作用是一样的。</p><p>执行时间是在容器对象创建好之后，自动执行run()方法，所以我们只需要重写这个run()方法。</p></li><li><p>我们可以通过此方法完成容器创建好之后自动执行的一些操作。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Springboot03Application</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;准备创建容器对象&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 在这个run方法里面是调用了下面定义的这个run方法，这是两个不同的run方法。</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Springboot03Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;容器对象创建之后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 这个run方法是在容器对象创建之后执行的，而容器对象创建好，说明容器中的对象也创建好并放在容器中了，说明在这个run方法里面可以获取到容器中的对象。</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// 可以做一些自定义的操作，比如读取文件、数据库等。</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;容器对象创建好后执行的方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol><h2 id="第3章-springboot和web组件" tabindex="-1"><a class="header-anchor" href="#第3章-springboot和web组件" aria-hidden="true">#</a> 第3章 springboot和web组件</h2><h3 id="springboot中使用拦截器" tabindex="-1"><a class="header-anchor" href="#springboot中使用拦截器" aria-hidden="true">#</a> springboot中使用拦截器</h3><ol><li><p>拦截器是springMVC中的一种对象，这种拦截器能拦截对Controller的请求。</p></li><li><p>拦截器框架中有系统的拦截器，还可以自定义拦截器，实现对请求预处理</p></li><li><p>在springMVC框架中实现自定义拦截器：</p><ul><li><p>创建springMVC框架中的HandlerInterceptor接口的是实现类。</p></li><li><p>需要把第一步创建的类注入到容器中。</p><p><img src="/study/assets/image-20220111124346613.14263164.png" alt="image-20220111124346613"></p></li></ul></li><li><p>在springboot中实现拦截器的步骤：</p><ul><li><p>先写自定义拦截器类，并实现HandlerInterceptor接口</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// 自定义拦截器</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     *
     * <span class="token keyword">@param</span> <span class="token parameter">request</span>
     * <span class="token keyword">@param</span> <span class="token parameter">response</span>
     * <span class="token keyword">@param</span> <span class="token parameter">handler</span> 被拦截的控制器对象
     * <span class="token keyword">@return</span> boolean
     *          true: 能被Controller处理
     *          false：请求被截断
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Exception</span></span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;执行了LoginInterceptor拦截器&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>创建Config类，来代替原来在springmvc中写的springmvc xml配置文件，来注册拦截器</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token comment">// 原先要实现拦截器，要写springmvc XML配置文件，现在是把配置文件移到了这个WebMvcConfigurer接口的方法之中。</span>
<span class="token comment">// 加了这个注解的类就和没有使用springboot的时候的XML配置文件是对应的。</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAppConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token comment">//添加拦截器对象，并注入到容器中</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 创建拦截器对象</span>
        <span class="token class-name">HandlerInterceptor</span> handlerInterceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoginInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 拦截器对象注入到容器中</span>
        <span class="token class-name">InterceptorRegistration</span> interceptorRegistration <span class="token operator">=</span> registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>handlerInterceptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 指定拦截器拦截的地址即url</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> path <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/**&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// 指定拦截器不拦截的地址</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> excludePath <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        interceptorRegistration<span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span>excludePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol><h3 id="springboot中使用servlet" tabindex="-1"><a class="header-anchor" href="#springboot中使用servlet" aria-hidden="true">#</a> springboot中使用servlet</h3><ol><li>使用步骤： <ul><li><p>创建Servlet类，创建类继承HttpServlet类</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token function">doPost</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用HttpServletResponse输出数据，应答结果</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=urf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pw<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;执行的是servlet1111111Response&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        pw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>注册第一步创建的Servlet类，即创建出对象并注入到容器中，让框架能够找到。</p><div class="language-java ext-java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">servletRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 以下是有参构造器，第一个参数是Servlet对象，第二个参数是url</span>
        <span class="token comment">//public ServletRegistrationBean(T servlet, String... urlMappings)</span>
        <span class="token class-name">ServletRegistrationBean</span> servletRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;/myservlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> servletRegistrationBean<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>和拦截器一样，这是往容器中注入Servlet对象，使用的@Bean注解，相当于以前的bean标签，那么这个方法要写在@Configuration修饰的类里，此类为配置类，和XML配置文件的作用是一样的。</p><p>或者不采用构造函数的方式为ServletRegistrationBean设置参数，采用set方法也是一样的。</p><div class="language-java ext-java"><pre class="language-java"><code>        servletRegistrationBean<span class="token punctuation">.</span><span class="token function">setServlet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        servletRegistrationBean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">&quot;/myservlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li></ol><h3 id="springboot中使用过滤器" tabindex="-1"><a class="header-anchor" href="#springboot中使用过滤器" aria-hidden="true">#</a> springboot中使用过滤器</h3><ol><li><p>过滤器的作用：</p><p>用户的请求先经过过滤器，在过滤器中对请求的参数做处理。</p><p>过滤器是先于拦截器执行的。</p><p>我们用过滤器最常用的是处理字符集。</p></li><li><p>在springboot中使用自定义过滤器的步骤</p><ul><li><p>创建自定义过滤器类。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;执行过滤器方法&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>注册Filter过滤器对象。</p><div class="language-java ext-java"><pre class="language-java"><code>    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">filterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">FilterRegistrationBean</span> filterRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">addUrlPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/myservlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> filterRegistrationBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div></li></ul></li><li><p>字符集过滤器</p><p>CharacterEncodingFilter：解决post请求中乱码的问题。</p><p>在SpringMVC框架，在web.xml中注册过滤器，配置属性。</p><p>CharacterEncodingFilter不是我们自定义的，是springmvc框架的。</p></li><li><p>自己配置字符集过滤器</p><p><img src="/study/assets/image-20220111153801895.186e5ba2.png" alt="image-20220111153801895"></p><p>并修改application.properties配置文件，目的是让自定义的过滤器起作用。</p><p><img src="/study/assets/image-20220111151328661.5f3e1e4c.png" alt="image-20220111151328661"></p></li><li><p>不自己去配置过滤器，就用springboot自带的过滤器CharacterEncodingFIlter</p><p>在application.properties配置文件中进行配置：</p><p><img src="/study/assets/image-20220111154507023.79fc45d7.png" alt="image-20220111154507023"></p></li></ol><h2 id="第4章-orm操作mysql" tabindex="-1"><a class="header-anchor" href="#第4章-orm操作mysql" aria-hidden="true">#</a> 第4章 ORM操作MySQL</h2><h3 id="概述-4" tabindex="-1"><a class="header-anchor" href="#概述-4" aria-hidden="true">#</a> 概述</h3><ol><li>使用mybatis框架操作数据，在springboot框架继承mybatis</li></ol><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h3><h4 id="步骤" tabindex="-1"><a class="header-anchor" href="#步骤" aria-hidden="true">#</a> 步骤</h4><ol><li><p>mybatis起步依赖starter：完成mybatis对象自动配置，对象放在容器中。</p><p>（之前mybatis和spring集成的时候，就是将mybatis相关的对象都交给spring容器管理，让spring容器来创建并管理mybatis的对象）</p></li><li><p>pom.xml文件中指定/src/main/java目录中的xml文件包含到类路径中</p><div class="language-xml ext-xml"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!-- 包括目录下的.properties,.xml文件都会扫描到 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>创建实体类Student</p></li><li><p>创建Dao接口StudentDao，创建查询学生的方法（不用创建接口的实现类）</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Mapper：告诉mybatis这是dao接口，创建此接口(的实现类)的代理对象
 */</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentDao</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> <span class="token function">selectStudentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;stuId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>创建dao接口对应的mapper XML文件，写sql语句</p></li><li><p>创建Service层对象，创建StudentService接口和他的实现类，调用dao对象的方法，完成数据库的操作。<strong>但是dao接口的实现类我们并没有写，dao接口的实现类的对象是由mybatis创建，底层是动态代理的方式，我们并不需要写实现类</strong></p></li><li><p>创建Controller对象，调用service</p></li><li><p>写application.properties配置文件配置数据库的连接信息。</p></li></ol><h4 id="第一种方式-mapper注解" tabindex="-1"><a class="header-anchor" href="#第一种方式-mapper注解" aria-hidden="true">#</a> 第一种方式：@Mapper注解</h4><ol><li><p>@Mapper注解，放在dao接口的上面，每个接口都使用这个注解。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Mapper：告诉mybatis这是dao接口，创建此接口(的实现类)的代理对象
 */</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentDao</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> <span class="token function">selectStudentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;stuId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>通过@Mapper找到对应的接口，并创建dao接口的代理对象。</p></li></ol><h4 id="第二种方式-mapperscan注解" tabindex="-1"><a class="header-anchor" href="#第二种方式-mapperscan注解" aria-hidden="true">#</a> 第二种方式：@MapperScan注解</h4><ol><li><p>在dao接口上面加入注解，需要在每个dao接口的上面都加入注解，当接口多的时候不方便。</p><p>这种方式只需要在<strong>主启动类</strong>上加上@MapperScan注解，<strong>并指定dao接口所在的包名。</strong></p><p>通过属性basePackages指定多个包。</p><p><img src="/study/assets/image-20220111170450011.7b66f4e4.png" alt="image-20220111170450011"></p><p><img src="/study/assets/image-20220111170831002.a69e43f3.png" alt="image-20220111170831002"></p></li></ol><h4 id="dao接口和mapper文件分开存储" tabindex="-1"><a class="header-anchor" href="#dao接口和mapper文件分开存储" aria-hidden="true">#</a> dao接口和mapper文件分开存储</h4><ol><li><p>把mapper映射文件放在resources目录中</p><p>在resources目录中创建子目录，例如mapper</p><p>把mapper文件放入mapper目录中。</p></li><li><p>我们需要告诉框架，到哪里去找dao接口所对应的mapper文件</p><p>在application.properties配置文件中配置：</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">#指定mapper文件的位置</span>
<span class="token key attr-name">mybatis.mapper-locations</span><span class="token punctuation">=</span><span class="token value attr-value">classpath:mapper/*.xml</span>
<span class="token comment">#指定mybati的日志</span>
<span class="token key attr-name">mybatis.configuration.log-impl</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</code></pre></div></li></ol><h3 id="事务支持" tabindex="-1"><a class="header-anchor" href="#事务支持" aria-hidden="true">#</a> 事务支持</h3><ol><li><p>springboot使用事务非常简单，底层依然是采用的是spring本身提供的事务管理。</p><ul><li>在入口类使用注解@EnableTransactionManagement开启事务支持</li><li>在访问数据库的Service方法上加注解@Transactional即可。</li></ul></li><li><p>spring框架中的事务</p><ul><li><p>管理事务的对象：事务管理器（接口），这个接口有很多的实现类，这些不同的实现类负责不同的数据库访问技术的事务管理</p><p>例如：使用JDBC或mybatis访问数据库，使用的事务管理器：DataSourceTransactionManager，这需要在spring配置文件中进行配置。</p></li><li><p>声明式事务：</p><p>在xml配置文件或者使用注解说明事务控制的内容。</p><p>控制事务：隔离级别、传播行为、超时时间。</p></li><li><p>事务的处理方式：</p><ul><li>spring框架中的注解@Transactional</li><li>aspecj框架，可以在xml配置文件中声明事务控制的内容。</li></ul></li></ul></li><li><p>springboot中使用事务，第2点提到的两种事务处理方式都可以用。</p><ul><li>在业务方法上，加@Transactional，加入注解后，方法就有事务功能了。</li><li>明确地在主启动类上面，加入@EnableTransactionManagement</li></ul></li></ol><h2 id="第5章-接口架构风格-restful" tabindex="-1"><a class="header-anchor" href="#第5章-接口架构风格-restful" aria-hidden="true">#</a> 第5章 接口架构风格-RESTful</h2><h3 id="概述-5" tabindex="-1"><a class="header-anchor" href="#概述-5" aria-hidden="true">#</a> 概述</h3><ol><li><p>这里接口的定义：</p><p>来自百度：</p><p><img src="/study/assets/image-20220111175339693.d4f59267.png" alt="image-20220111175339693"></p></li><li><p>架构风格：</p><p>API组织方式，如下就是一个传统的风格。</p><p><img src="/study/assets/image-20220111233229358.7cf7e94e.png" alt="image-20220111233229358"></p><p>在地址上提供了访问的资源名称，addStudent，在其后使用了get方法请求，传递参数。</p></li><li><p>RESTful架构风格</p><p>REST（表现层状态转移）是一种互联网软件架构设计的风格，但它并不是标准，它只是提出了一组客户端和服务器交互时的架构理念和设计原则。</p><p><img src="/study/assets/image-20220111233512942.704a28ce.png" alt="image-20220111233512942"></p><p>基于这种风格的API组织方式，更简洁、更有层次。</p></li><li><p>REST中的要素：</p><p>用REST表示在互联网中，一个资源或一个操作。</p><p>资源使用url表示的，在互联网，使用的图片、文本、视频、网页等都是资源。</p></li><li><p>使用http中的动作（请求方式），表示对资源的操作（CRUD）</p><ul><li>GET：查询资源---sql select</li><li>POST：创建资源---sql insert</li><li>PUT：更新资源---sql update</li><li>DELETE：删除资源---sql delete</li></ul><p>浏览器能够直接支持的请求方式是GET和POST，所以我们基本只用前两个，POST可以代替PUT和DELETE</p><p><strong>REST风格，在url中，使用名词表示资源</strong>，以及访问资源的信息，用<code>/</code>来分割资源的信息</p><p><img src="/study/assets/image-20220111235040462.c28afe51.png" alt="image-20220111235040462"></p><p><img src="/study/assets/image-20220111235708371.a06c2a63.png" alt="image-20220111235708371"></p></li><li><p>需要的分页、排序等参数，依然放在url的后面，例如：</p><p><img src="/study/assets/image-20220112000104419.c08264a0.png" alt="image-20220112000104419"></p></li><li><p>一句话说明REST：</p><p>在url中，使用名词表示资源，使用http动作（四种请求方式）来操作资源。</p></li><li><p>springboot开发RESTful主要是几个注解实现。</p></li><li><p>在页面中或者ajax中，支持put、delete请求：</p><p>过滤器：org.springframework.web.filter.HiddenHttpMethodFilter</p><p>作用：把请求中的post转为put、delete</p><p>在springboot中，用这个过滤器：</p><ul><li><p>在application.properties/yml文件中，开启使用HiddenHttpMethodFilter过滤器</p><p><img src="/study/assets/image-20220113145837923.f60d14a7.png" alt="image-20220113145837923"></p></li><li><p>在请求页面中，包含_method参数，它的值是put、delete，但是发起这个请求真实使用的是post方式。</p><p><img src="/study/assets/image-20220113145907602.d857b8bc.png" alt="image-20220113145907602"></p></li></ul></li></ol><h3 id="restful的注解" tabindex="-1"><a class="header-anchor" href="#restful的注解" aria-hidden="true">#</a> RESTful的注解</h3><h4 id="pathvariable" tabindex="-1"><a class="header-anchor" href="#pathvariable" aria-hidden="true">#</a> @PathVariable</h4><ol><li><p>获取URL中的数据，该注解是实现RESTful最主要的一个注解。</p></li><li><p>比如此url</p><p><img src="/study/assets/image-20220112002815522.62106216.png" alt="image-20220112002815522"></p><p>用普通的getParameter的方式拿不到数据，因为“1001”不是在“?”号后的这种传参方式</p><p>我们要从这个url的路径中获取数据</p></li><li><p>使用：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRestController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * @PathVariable 路径变量：获取url中的数据
     *              属性：value：路径变量名
     *              位置：放在控制器方法形参前面
     * <span class="token punctuation">{</span>stuId<span class="token punctuation">}</span>：定义路径变量名，自定义名称，保证和@PathVariable注解的value属性值一样
     * <span class="token keyword">@param</span> <span class="token parameter">studentId</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/student/{stuId}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getStudent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;stuId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> studentId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;查询学生studentId&quot;</span> <span class="token operator">+</span> studentId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意：</p><ul><li><p>这种方式只能适用于请求参数是简单类型的形参而不能是对象形参。</p></li><li><p>当路径变量名和形参名是一样的时候，@PathVariable注解的value属性可以省略不写。</p><p><img src="/study/assets/image-20220113135215392.03542f08.png" alt="image-20220113135215392"></p></li></ul></li></ol><h4 id="getmapping" tabindex="-1"><a class="header-anchor" href="#getmapping" aria-hidden="true">#</a> @GetMapping</h4><ol><li><p>支持get的请求方式</p><p>等同于@RequestMapping(method=RequestMethod.GET)</p></li></ol><h4 id="postmapping" tabindex="-1"><a class="header-anchor" href="#postmapping" aria-hidden="true">#</a> @PostMapping</h4><ol><li><p>接收和处理post方式的请求</p><p>等同于@RequestMapping(method=RequestMethod.POST)</p></li></ol><h4 id="putmapping" tabindex="-1"><a class="header-anchor" href="#putmapping" aria-hidden="true">#</a> @PutMapping</h4><ol><li><p>支持put请求方式。</p><p>等同于@RequestMapping(method=RequestMethod.PUT)</p></li></ol><h4 id="deletemapping" tabindex="-1"><a class="header-anchor" href="#deletemapping" aria-hidden="true">#</a> @DeleteMapping</h4><ol><li><p>支持delete请求方式。</p><p>等同于@RequestMapping(method=RequestMethod.DELETE)</p></li></ol><h4 id="restcontroller" tabindex="-1"><a class="header-anchor" href="#restcontroller" aria-hidden="true">#</a> @RestController</h4><ol><li><p>复合注解，是@Controller和ResponseBody组合</p></li><li><p>在类的上面使用@RestController，表示当前类的所有方法都加上了@ResponseBody注解，@ResponseBody注解的意思是说用对象来表示处理请求之后的返回值。即控制器方法的返回值为对象</p><p>如果返回值是String，但是加上了@ResponseBody注解，那么返回的字符串代表数据而不是视图。</p><p>@ResponseBody是表示返回的对象是数据，和视图无关，可以用来处理ajax请求，控制器方法返回的是一个对象，那么将对象先进行转换，转换为某格式的字符串，再通过@ResponseBody注解进行输出。</p><p>如何处理呢？</p><ul><li>注解驱动将返回的对象转换为对应格式的字符串</li></ul></li></ol><ul><li>@ResponseBody注解将json、xml、txt格式的字符串，通过HttpServletResponse输出给浏览器</li></ul><h3 id="postman" tabindex="-1"><a class="header-anchor" href="#postman" aria-hidden="true">#</a> postman</h3><ol><li>自己写接口测试的话，如果用浏览器测试，那么只能测试GET请求，通过浏览器地址栏的形式是测试不了POST请求的，可以用postman。</li><li>这是一个工具，可以对编写的API进行测试。</li></ol><h2 id="第6章-springboot集成redis" tabindex="-1"><a class="header-anchor" href="#第6章-springboot集成redis" aria-hidden="true">#</a> 第6章 springboot集成redis</h2><h3 id="概述-6" tabindex="-1"><a class="header-anchor" href="#概述-6" aria-hidden="true">#</a> 概述</h3><ol><li><p>Redis是一个NoSQL数据库，常用作缓存Cache使用，通过redis客户端可以使用多种语言在程序中，访问redis数据，Java语言中使用的客户端库有Jedis，lettuce，Redission等</p></li><li><p>NoSQL的No的意思是说Not only，就是说不仅仅是数据库，不仅仅用来存数据，还能干别的事情。性能好，单线程，当作缓存使用，不涉及CPU和磁盘的交互，所以单线程，不需要多线程来提升CPU的利用率。用redis来减少程序对真正的数据库的访问的压力，来提升性能</p></li><li><p>springboot中使用RedisTemplate（StringRedisTemplate）模板类来完成和redis数据的交互（CRUD）</p></li><li><p>redis是一个中间件，是一个独立的服务器，是独立的可以单独使用的。</p><p>zookeeper也是属于中间件，也是一个独立的服务器，是一个注册中心，是一个单独的应用程序。</p></li></ol><h3 id="步骤-1" tabindex="-1"><a class="header-anchor" href="#步骤-1" aria-hidden="true">#</a> 步骤</h3><ol><li><p>添加依赖</p><p>RedisTemplate使用的lettuce这个客户端库。</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--
		redis起步依赖，就可以直接在项目中使用RedisTemplate（StringRedisTemplate）
		data-redis使用的lettuce这个客户端库，在程序中使用RedisTemplate类的方法，实际就是调用lettuce这个客户端库中的方法
		--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>配置redis服务端信息</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">#指定redis信息(host ip password)</span>
<span class="token key attr-name">spring.redis.host</span><span class="token punctuation">=</span><span class="token value attr-value">localhost</span>
<span class="token key attr-name">spring.redis.port</span><span class="token punctuation">=</span><span class="token value attr-value">6379</span>
</code></pre></div></li><li><p>写程序，用RedisTemplate进行数据的添加，添加进redis。</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisController</span> <span class="token punctuation">{</span>
    <span class="token comment">//注入RedisTemplate</span>
    <span class="token doc-comment comment">/**
     * RedisTemplate泛型
     * RedisTemplate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>String,</span> <span class="token attr-name">String</span><span class="token punctuation">&gt;</span></span>
     * RedisTemplate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Object,</span> <span class="token attr-name">String</span><span class="token punctuation">&gt;</span></span>
     * RedisTemplate
     *
     * 注意：RedisTemplate对象的名称为redisTemplate
     * 按@Resource注入的时候默认是按byName
     */</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     *
     * <span class="token keyword">@param</span> <span class="token parameter">keyName</span>
     * <span class="token keyword">@param</span> <span class="token parameter">value</span>
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/redis/addString&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addToRedis</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyName<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//操作String类型的数据，要先获取ValueOperations对象</span>
        <span class="token comment">// 就是说 操作不同类型的数据，要根据redisTemplate获取不同对象</span>
        <span class="token class-name">ValueOperations</span> valueOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        valueOperations<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>keyName<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;向redis添加string类型的数据&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/redis/getKey&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token class-name">String</span> keyName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ValueOperations</span> valueOperations <span class="token operator">=</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> v <span class="token operator">=</span> valueOperations<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>keyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;key:&quot;</span> <span class="token operator">+</span> keyName <span class="token operator">+</span> <span class="token string">&quot; value:&quot;</span> <span class="token operator">+</span> v<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol><h3 id="序列化" tabindex="-1"><a class="header-anchor" href="#序列化" aria-hidden="true">#</a> 序列化</h3><ol><li><p>序列化：</p><p>序列化：把对象转换为可传输的字节序列（二进制）过程称为序列化</p><p>​ 序列化可以转换成二进制也可以转换为某种格式</p><p>反序列化：把字节序列还原为对象的过程称为反序列化。</p></li><li><p>为什么需要序列化：</p><p>序列化最终的目的是为了对象可以跨平台存储，和进行网络传输，而我们进行跨平台存储和网络传输的方式就是IO，<strong>而IO支持的数据格式就是字节数组</strong></p><p>我们必须在把对象转换成字节数组的时候制定一种规则（序列化），那么我们从IO流里面读出数据的时候再以这种规则把对象还原回来（反序列化）</p></li><li><p><img src="/study/assets/image-20220113164317002.a9702162.png" alt="image-20220113164317002"></p></li><li><p>JSON序列化：</p><p>json序列化，就是将对象转换成json格式，或json格式转换成对象，例如把一个Student对象转换为json字符串<code>{&quot;name&quot;:&quot;lisi&quot;,&quot;age&quot;:29}</code>，反序列化，将json格式的字符串转换<code>{&quot;name&quot;:&quot;lisi&quot;,&quot;age&quot;:29}</code>转换成Student对象</p></li><li><p><img src="/study/assets/image-20220113173851104.7b106e72.png" alt="image-20220113173851104"></p></li></ol><h2 id="第7章-springboot集成dubbo" tabindex="-1"><a class="header-anchor" href="#第7章-springboot集成dubbo" aria-hidden="true">#</a> 第7章 springboot集成dubbo</h2><h3 id="实现步骤" tabindex="-1"><a class="header-anchor" href="#实现步骤" aria-hidden="true">#</a> 实现步骤</h3><h4 id="公共项目" tabindex="-1"><a class="header-anchor" href="#公共项目" aria-hidden="true">#</a> 公共项目</h4><ol><li><p>独立的maven项目，定义了接口和数据类</p></li><li><p>创建接口module</p><p>因为我们打包jar包，只需要打包这个接口module的jar包即可，把这个jar包添加到服务消费者module去，可知服务消费者方，并没有方法的具体实现，但是仍然能够像调用自己的方法一样调用远程服务提供方的实现的方法，这就是远程调用，是RPC的实现。底层是基于的动态代理的方式，创建代理对象，代理对象调用接口的方法就像调用实现类的方法一样，因为底层网络通信的细节对使用人员透明，是通过动态代理，我们把接口jar包加载到服务消费者方去，就是为了创建这个接口的代理对象！！</p></li></ol><h4 id="服务提供者项目" tabindex="-1"><a class="header-anchor" href="#服务提供者项目" aria-hidden="true">#</a> 服务提供者项目</h4><ol><li><p>创建服务提供者即服务的实现module</p><ul><li><p>引入接口项目的依赖，<strong>目的是为了实现这个接口的方法，那么必须实现这个接口，所以必须要引入依赖</strong>，服务的提供者才会有接口方法的具体实现。</p><p>后面在消费者module同样要引入这个接口项目的依赖，相当于之前学spring整合dubbo的时候，将接口项目打包（此jar包里只有接口和实体类，没有方法的具体实现），打好的jar包加载进消费者方，消费者方需要此接口jar包的<strong>目的是创建接口的对象</strong>，实际是代理对象，因为dubbo的底层是动态代理，而动态代理的底层是反射机制。</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--引入公共依赖项--&gt;</span>
        <span class="token comment">&lt;!--加入公共项的gav--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springboot-dubbo-interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>加入dubbo依赖</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--加入dubbo的依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>加入注册中心zookeeper的依赖</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--加入zookeeper依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-dependencies-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>写一个接口的实现类，实现接口里的方法</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 使用dubbo中的注解暴露服务
 */</span>
<span class="token annotation punctuation">@DubboService</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Student</span> <span class="token function">queryStudent</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1001</span> <span class="token operator">==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            student<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token number">1002</span> <span class="token operator">==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1002</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            student<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> student<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>暴露服务</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 使用dubbo中的注解暴露服务
 */</span>
<span class="token annotation punctuation">@DubboService</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">)</span>
</code></pre></div></li><li><p>配置服务名称、dubbo协议和端口、注册中心</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">#配置服务名称 类似于之前在spring配置文件里写标签&lt;dubbo:application name=&quot;名称&quot;&gt;</span>
<span class="token key attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token value attr-value">studentservice-provider</span>

<span class="token comment">#配置扫描的包，扫描@DubboService注解</span>
<span class="token key attr-name">dubbo.scan.base-packages</span><span class="token punctuation">=</span><span class="token value attr-value">com.example.service</span>

<span class="token comment">#原先在spring配置文件里配那些，现在用了springboot，都在application.properties/yml配置文件里写。</span>
<span class="token comment">#配置dubbo协议</span>
<span class="token comment">#dubbo.protocol.name=dubbo</span>
<span class="token comment">#dubbo.protocol.port=20881</span>

<span class="token comment">## 注册中心</span>
<span class="token key attr-name">dubbo.registry.address</span><span class="token punctuation">=</span><span class="token value attr-value">zookeeper://localhost:2181</span>
</code></pre></div><p>注意使用springboot集成dubbo，暴露服务接口并不在配置文件里写了，而是通过注解的方式写在服务接口的实现类上。</p></li><li><p>在启动类上加入@EnableDubbo注解</p></li><li><p>启动服务提供者项目，发现会报错</p><div class="language-console ext-console"><pre class="language-console"><code>SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: LoggerFactory is not a Logback LoggerContext but Logback is on the classpath. Either remove Logback or the competing implementation (class org.slf4j.impl.Log4jLoggerFactory loaded from file:/D:/installations/maven/apache-maven-3.8.1/maven-repository/org/slf4j/slf4j-log4j12/1.7.30/slf4j-log4j12-1.7.30.jar). If you are using WebLogic you will need to add &#39;org.slf4j&#39; to prefer-application-packages in WEB-INF/weblogic.xml: org.slf4j.impl.Log4jLoggerFactory
	at org.springframework.util.Assert.instanceCheckFailed(Assert.java:702)
	at org.springframework.util.Assert.isInstanceOf(Assert.java:621)
	at ...
</code></pre></div><p>原因：在当前程序中，log4j这个jar包被加载多次，zookeeper的依赖重复加了log4j的依赖</p><p>需要做排除</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--加入zookeeper依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-dependencies-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ul></li></ol><h4 id="服务消费者项目" tabindex="-1"><a class="header-anchor" href="#服务消费者项目" aria-hidden="true">#</a> 服务消费者项目</h4><ol><li><p>创建服务消费者module</p><ul><li><p>添加公共接口jar包依赖</p></li><li><p>添加dubbo依赖</p></li><li><p>添加zookeeper依赖，并对重复加载的log4j做排除exclusion</p></li><li><p>创建一个类来远程调用服务提供者的服务，通过@DubboReference注解创建接口的代理对象</p><div class="language-java ext-java"><pre class="language-java"><code>    <span class="token annotation punctuation">@DubboReference</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span>
</code></pre></div><p><img src="/study/assets/image-20220114165603471.fa1a6bbb.png" alt="image-20220114165603471"></p><p>创建的接口的对象（实际是代理对象，因为dubbo底层是动态代理）</p><p>通过此对象调用方法，就像调用自己的方法一样，底层网络通信细节对使用者透明，dubbo是基于RPC的框架</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DubboController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
    @DubboReference 引用远程服务，把创建好的代理对象注入给studentService
    */</span>
    <span class="token annotation punctuation">@DubboReference</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> version <span class="token operator">=</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/query&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">queryStudent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> student <span class="token operator">=</span> studentService<span class="token punctuation">.</span><span class="token function">queryStudent</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> student<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>配置服务名称、注册中心</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">## 指定服务名称</span>
<span class="token key attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token value attr-value">consumer-application</span>

<span class="token comment">#指定注册中心</span>
<span class="token key attr-name">spring.registry.address</span><span class="token punctuation">=</span><span class="token value attr-value">zookeeper://localhost:2181</span>
</code></pre></div></li></ul></li><li><p>注意：在实际项目中，这里说的mudule其实是一个个单独的项目</p></li></ol><h2 id="第8章-springboot项目打包" tabindex="-1"><a class="header-anchor" href="#第8章-springboot项目打包" aria-hidden="true">#</a> 第8章 springboot项目打包</h2><h3 id="概述-7" tabindex="-1"><a class="header-anchor" href="#概述-7" aria-hidden="true">#</a> 概述</h3><ol><li><p>打包为web项目，是war文件</p><p>普通Java项目，是jar文件</p><p>springboot项目可以打包成war包和jar包两种方式</p></li></ol><h3 id="打包为war包" tabindex="-1"><a class="header-anchor" href="#打包为war包" aria-hidden="true">#</a> 打包为war包</h3><ol><li><p>pom.xml文件里的build标签，写打包后的文件名称</p><div class="language-xml ext-xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--打包后的文件名称--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>myboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--
        让项目在编译的时候，扫描到指定目录下的指定格式的文件，编译完成后，这些文件会在类路径下，也就是target/class路径下
        类路径就是classpath:来表示。
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--这是指定要编译到的指定目录--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">&gt;</span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>主启动类继承SpringBootServletInitializer</p><p>SpringBootServletInitializer就是原有的web.xml文件的替代，使用了嵌入式servlet，默认是不支持jsp</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 继承SpringBootServletInitializer这个类，才能使用独立的tomcat服务器
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringWarApplication</span> <span class="token keyword">extends</span> <span class="token class-name">SpringBootServletInitializer</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringWarApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">SpringApplicationBuilder</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SpringApplicationBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">sources</span><span class="token punctuation">(</span><span class="token class-name">SpringWarApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>在pom文件里指定打包类型为war包</p><div class="language-xml ext-xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>打包好的war文件就可以部署在单独的tomcat容器中（webapps目录中），进行启动，然后访问，效果和springboot启动项目是一样的，只不过springboot是内嵌的tomcat容器，同时我们也可以将这个war包通过IDEA的maven web项目，进行发布、部署。</p><p>如图，选择External Source</p><p><img src="/study/assets/image-20220114181707180.fd14d8d4.png" alt="image-20220114181707180"></p></li></ol><h3 id="打包为jar包" tabindex="-1"><a class="header-anchor" href="#打包为jar包" aria-hidden="true">#</a> 打包为jar包</h3><ol><li><p>在pom.xml文件里的build标签，通过finalName标签指定打包后的文件名称</p><div class="language-xml ext-xml"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--打包后的文件名称--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>myboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>默认是打包为jar包，所以不需要通过<code>&lt;packaging&gt;jar&lt;/packaging&gt;</code>声明</p></li><li><p>执行maven clean、package</p><p>在target目录中，会生成jar文件。</p></li><li><p>jar包的执行方式：</p><ul><li><p>在jar包目录下，打开命令行，执行<code>java -jar myboot.jar</code></p><p>这就是独立启动jar包。</p></li></ul></li></ol><h3 id="jar包和war包的区别" tabindex="-1"><a class="header-anchor" href="#jar包和war包的区别" aria-hidden="true">#</a> jar包和war包的区别</h3><ol><li><p>打包war包，需要有服务器才能执行，是将打包的war包部署到这个服务器。</p><p>jar包可以独立运行，不依赖于tomcat，简单轻巧</p><p>jar包里有内嵌的tomcat</p><p>部署jar包更方便</p></li></ol><h2 id="第9章-模板引擎thymeleaf" tabindex="-1"><a class="header-anchor" href="#第9章-模板引擎thymeleaf" aria-hidden="true">#</a> 第9章 模板引擎Thymeleaf</h2><h3 id="概述-8" tabindex="-1"><a class="header-anchor" href="#概述-8" aria-hidden="true">#</a> 概述</h3><ol><li><p>thymeleaf是一个流行的模板引擎，该模板引擎采用Java语言开发。</p></li><li><p>thymeleaf对网络环境不存在严格的要求，既可以用于web环境下，也能用于非web环境下，在非web环境下，他能直接显示模板上的静态数据；在web环境下，它能像jsp一样从后台接收数据并替换掉模板上的静态数据。</p><p><strong>thymeleaf是基于html的，以html标签为载体，thymeleaf要寄托在html标签下实现。</strong></p></li><li><p>springboot集成了thymeleaf技术，并且springboot官方也推荐使用thymeleaf来替代jsp技术，作为前端页面的数据展示。</p></li><li><p>jsp是完成页面的动态渲染，是需要编译运行，效率低。</p></li><li><p>什么叫模板呢？</p><p><img src="/study/assets/image-20220114195307270-16421611874871.f6e8c921.png" alt="image-20220114195307270"></p><p>这里添加了数据，放在了request作用域。</p><p>SpringMVC中要完成对请求的处理并对结果的展示大致会经历以下过程（不细说）：</p><p>处理器映射器，处理器执行链，处理器适配器，Controller中的方法，视图解析器对象，视图对象（View对象）。</p><p>视图对象就负责对数据的前端展示。</p><p>在页面中，通过以下EL表达式，拿到数据并展示。</p><p><img src="/study/assets/image-20220114195521639.7abad8d8.png" alt="image-20220114195521639"></p><p>在$这个位置上，相当于占位符，在这个位置会获得request作用域中实际的数据，实际上jsp就是一个模板技术。</p><p>jsp是最早的一种模板技术，数据来自服务器端。</p><p>只不过jsp是局限于Java语言的。</p><p>模板引擎就是做视图处理的，jsp就可以理解为是一种很早的模板引擎。</p></li><li><p>Java生态下的模板引擎有Thymeleaf，Freemaker，Velocity等，都是视图层的，做数据显示的，他们的作用都是等同于jsp的。</p></li><li><p>模板引擎是运行在服务器端的，所以可以说是动态的，jsp也是运行在服务器端的，是动态的。</p><p>html才是静态的。动态的有对数据的处理能力。</p><p>jsp页面最终也会翻译成html页面。</p></li><li><p>可以简单把模板技术理解为对字符串的替换！</p></li></ol><h3 id="使用-1" tabindex="-1"><a class="header-anchor" href="#使用-1" aria-hidden="true">#</a> 使用</h3><ol><li><p>当html页面中，没有写thymeleaf相关语句的时候，显示的就是静态数据。</p><p>如下：</p><div class="language-html ext-html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>hello.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>使用thymeleaf的例子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>想显示数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/study/assets/image-20220114215634437.d7c65f27.png" alt="image-20220114215634437"></p><p>在非web环境下，他能直接显示模板上的静态数据；在web环境下，它能像jsp一样从后台接收数据并替换掉模板上的静态数据。</p><p>如果写了thymeleaf相关语句，显示从后台即服务程序中接收到的数据。如下：</p><div class="language-html ext-html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>hello.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>使用thymeleaf的例子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${data}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>想显示数据<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/study/assets/image-20220114215743231.5ea68115.png" alt="image-20220114215743231"></p><p>如上的<code>th:text=&quot;${data}&quot;</code>就是模板中的语法，意思是取出data域的数据并替换后面的静态文本。</p><p>data域的数据是来自后台程序，如下：</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloThymeleafController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">helloThymeleaf</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//添加数据到request作用域，或者使用ModelAndView或者Model，都会最终将数据放入request作用域</span>
        <span class="token comment">//模板引擎可以用从request中获取数据</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;欢迎使用thymeleaf模板引擎1111&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//指定视图，之前是jsp，现在是指定模板引擎所使用的页面（基于html标签，所以是html）</span>
        <span class="token comment">//逻辑名称</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li><li><p>thymeleaf起步依赖</p><div class="language-xml ext-xml"><pre class="language-xml"><code>        <span class="token comment">&lt;!--模板引擎起步依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li><li><p>在application.properties/yml中进行配置</p><div class="language-properties ext-properties"><pre class="language-properties"><code><span class="token comment">## 在开发阶段，关闭模板缓存，让修改立即生效</span>
<span class="token key attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>

<span class="token comment">## 以下配置是默认的。</span>
<span class="token comment">## 编码格式</span>
<span class="token key attr-name">spring.thymeleaf.encoding</span><span class="token punctuation">=</span><span class="token value attr-value">utf-8</span>

<span class="token comment">## 也就是说模板是html文件</span>
<span class="token key attr-name">spring.thymeleaf.mode</span><span class="token punctuation">=</span><span class="token value attr-value">HTML</span>

<span class="token comment">## 模板引擎默认存放路径，即模板的前缀,结合前缀和后缀，所以在controller中，直接return hello</span>
<span class="token comment">## 和视图解析器是一样的。</span>
<span class="token key attr-name">spring.thymeleaf.prefix</span><span class="token punctuation">=</span><span class="token value attr-value">classpath:/templates/</span>
<span class="token key attr-name">spring.thymeleaf.suffix</span><span class="token punctuation">=</span><span class="token value attr-value">.html</span>
</code></pre></div></li></ol><h3 id="thymeleaf语法" tabindex="-1"><a class="header-anchor" href="#thymeleaf语法" aria-hidden="true">#</a> thymeleaf语法</h3><h4 id="标准变量表达式" tabindex="-1"><a class="header-anchor" href="#标准变量表达式" aria-hidden="true">#</a> 标准变量表达式</h4><ol><li><p>标准变量表达式</p><p>表达式是在页面获取数据的一种thymeleaf语法，类似${key}</p><p><img src="/study/assets/image-20220114221736263-16421698566172.c35128dc.png" alt="image-20220114221736263"></p><p>使用<code>request.setAttribute(),model.addAttribute()</code>将返回结果放在request作用域中。</p></li><li><p><img src="/study/assets/image-20220114224001635.3681ff58.png" alt="image-20220114224001635"></p><p><code>${}</code>是相当于占位符，会把从request域中取到的内容<strong>替换</strong>到右边的文本位置！！</p><p>如果不写thymeleaf表达式，那么会显示右边的文本，如果写了，但是request里并没有这个字段，那么会取到一个空值，这个空值仍然会替换右边的文本</p></li></ol><h4 id="选择变量表达式" tabindex="-1"><a class="header-anchor" href="#选择变量表达式" aria-hidden="true">#</a> 选择变量表达式</h4><ol><li><p>语法：*{key} 说明：需要配合 th:object 一起使用。选择变量表达式，也叫星号变量表达式，使用 th:object 属 性来绑定对象，<strong>选择表达式首先使用 th:object 来绑定后台传来的对象</strong>，然后使用 * 来代表这 个对象，后面 {} 中的值是此对象中的属性。 选择变量表达式 *{...} 是另一种类似于标准变量表达式 ${...} 表示变量的方法 选择变量表达式在执行时是在选择的对象上求解，而${...}是在上下文的变量 model 上求解</p><p>目的是简化获取对象属性值。</p></li><li><p>示例：</p><p><img src="/study/assets/image-20220114224606159.c8c16643.png" alt="image-20220114224606159"></p></li></ol><h4 id="链接表达式" tabindex="-1"><a class="header-anchor" href="#链接表达式" aria-hidden="true">#</a> 链接表达式</h4><ol><li><p>语法：@{链接 url}</p><div class="language-txt ext-txt"><pre class="language-txt"><code>说明：主要用于链接、地址的展示，可用于&lt;script src=&quot;...&quot;&gt;、&lt;link href=&quot;...&quot;&gt;、&lt;a href=&quot;...&quot;&gt;、&lt;form action=&quot;...&quot;&gt;、&lt;img src=&quot;&quot;&gt;等，可以在 URL 路径中动态获取数据
</code></pre></div></li><li><p>传参</p><p><img src="/study/assets/image-20220114225619386.ea4ab6b4.png" alt="image-20220114225619386"></p><p><img src="/study/assets/image-20220114230144044.7b3ae1d7.png" alt="image-20220114230144044"></p></li></ol><h4 id="属性" tabindex="-1"><a class="header-anchor" href="#属性" aria-hidden="true">#</a> 属性</h4><ol><li>属性是放在html元素中的，就是html元素的属性，加了th前缀，属性的作用不变，加上了th，属性的值就由模板引擎处理了，在属性可以就使用thymeleaf变量表达式。</li></ol><h2 id="注解总结" tabindex="-1"><a class="header-anchor" href="#注解总结" aria-hidden="true">#</a> 注解总结：</h2><h3 id="spring-springmvc-springboot" tabindex="-1"><a class="header-anchor" href="#spring-springmvc-springboot" aria-hidden="true">#</a> spring+springMVC+springboot</h3><h4 id="创建对象的注解" tabindex="-1"><a class="header-anchor" href="#创建对象的注解" aria-hidden="true">#</a> 创建对象的注解</h4><ol><li><p>@Controller</p><p>放在类的上面，创建控制器对象并注入到容器中</p></li><li><p>@RestController</p><p>放在类的上面，创建控制器对象并注入到容器中</p><p>是一个复合注解，是@Controller + @ResponseBody的复合注解</p><p>使用这个注解的控制类，里面的方法的返回值都是数据</p></li><li><p>@Service</p><p>放在业务层实现类的上面，创建Service对象，注入到容器</p></li><li><p>@Repository</p><p>放在dao层的实现类的上面，创建dao对象，放入到容器中。</p><p>现在很少使用这个注解，是因为我们使用mybatis框架，而dao对象是mybatis通过动态代理生成的对象。</p><p>我们使用mybatis，都不需要写dao接口的实现类，所以不需要在实现类上面去加这个注解。dao对象是由mybatis自动生成</p></li><li><p>@Component</p><p>是放在类的上面，表示创建此类的对象，并注入到容器中。和三层架构分层没有关系，就表示创建对象。</p><p>如果对象不是三层中的任何一层，就用这个注解来创建对象并放入到容器是很合适的。</p></li></ol><h4 id="赋值的注解" tabindex="-1"><a class="header-anchor" href="#赋值的注解" aria-hidden="true">#</a> 赋值的注解</h4><ol><li><p>@Value</p><p>简单类型的赋值，例如在属性的上面使用</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
</code></pre></div><p>还可以使用@Value，获取配置文件的数据，这里的配置文件是说springboot中的application.properties/yml</p><div class="language-java ext-java"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${server.port}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> port<span class="token punctuation">;</span>
</code></pre></div></li><li><p>@Autowired</p><p>给引用类型变量赋值自动注入的，支持byName、byType，默认是byType的，放在属性的上面，也可以放在构造方法的上面。</p><p>@Qualifier：给应用类型赋值，使用byName方式</p><p>以上两个注解都是来自spring框架的。</p></li><li><p>@Resource</p><p>给引用类型变量赋值自动注入的，支持byName、byType，默认是byName的，如果通过byName自动注入失败，会采用byType的方式对引用类型变量赋值。</p><p>是JDK中的定义。放在属性的上面</p></li></ol><h4 id="其他注解" tabindex="-1"><a class="header-anchor" href="#其他注解" aria-hidden="true">#</a> 其他注解</h4><ol><li><p>@Configuration</p><p>放在类的上面，表示这是个配置类，相当于配置文件的作用，这里的配置文件是指spring和springmvc的xml配置文件</p></li><li><p>@Bean</p><p>放在方法的上面，把方法的返回值对象，注入到spring容器中</p></li><li><p>@ImportResource</p><p>加载其他的xml配置文件，把文件中的对象，注入到spring容器中</p></li><li><p>@PropertyResource</p><p>读取其他的属性配置文件，可以指定要读取的配置文件在类路径下的位置。</p><p>通过${key}可以读到配置文件中的值。</p></li><li><p>@ComponentScan</p><p>扫描器，指定包名，扫描注解，把写了对应注解的类的对象都注入到容器中。</p><p>相当于XML配置文件中的组件扫描器</p></li><li><p>@ResponseBody</p><p>放在方法的上面，表示方法的返回值是数据，不是视图</p></li><li><p>@RequestBody</p><p>把请求体中的数据，读取出来，转为Java对象使用</p></li><li><p>@ControllerAdvice</p><p>控制器增强，放在类的上面，表示此类提供了一些方法，可以对Controller增强功能。</p></li><li><p>@ExceptionHandler</p><p>用来处理异常的，放在方法的上面</p><p>和@ControllerAdvice经常是一起搭配使用，@ControllerAdvice是写在自定义异常类的上面。</p></li><li><p>@Transactional</p><p>处理事务的，放在service实现类的public方法上面，表示此方法有事务。</p></li></ol><h4 id="springboot中的注解" tabindex="-1"><a class="header-anchor" href="#springboot中的注解" aria-hidden="true">#</a> springboot中的注解</h4><ol><li><p>@SpringBootConfiguration</p><p>放在启动类之上的，包含了以下三个注解的功能</p><p>@SpringBootConfiguration---表示这是一个配置类</p><p>@EnableAutoConfiguration---自动配置功能</p><p>@ComponentScan---扫描器</p></li></ol><h3 id="mybatis相关的注解" tabindex="-1"><a class="header-anchor" href="#mybatis相关的注解" aria-hidden="true">#</a> mybatis相关的注解</h3><ol><li><p>@Mapper</p><p>放在接口的上面，让mybatis找到这个接口，并创建它的代理对象。</p></li><li><p>@MapperScan</p><p>和@Mapper一样，是让mybatis找到dao接口，并创建dao接口的代理对象。</p><p>这种方式只需要在<strong>主启动类</strong>上加上@MapperScan注解，<strong>并指定dao接口所在的包名。</strong></p></li><li><p>@Param</p><p>放在dao接口的方法的形参前面，作为命名参数使用的。</p></li></ol><h3 id="dubbo相关的注解" tabindex="-1"><a class="header-anchor" href="#dubbo相关的注解" aria-hidden="true">#</a> dubbo相关的注解</h3><ol><li><p>@DubboService</p><p>在提供者端使用的，是暴露dubbo服务的，是放在接口的<strong>实现类</strong>上面的。</p></li><li><p>@DubboReference</p><p>在消费者端使用的，引用远程服务的，放在属性上面使用，这个属性是dubbo创建的接口的<strong>代理对象</strong>。</p><p>通过此代理对象就能够像调用自己的方法一样，调用远程服务，即使消费者端并没有方法的实现，方法的实现在服务提供者的实现类里面。</p></li><li><p>@EnableDubbo</p><p>放在主类上面，表示当前引用启用Dubbo功能</p></li></ol><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 64005626+shaileneF@users.noreply.github.com">shailene</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/study/assets/app.2e8b3a67.js" defer></script>
  </body>
</html>
